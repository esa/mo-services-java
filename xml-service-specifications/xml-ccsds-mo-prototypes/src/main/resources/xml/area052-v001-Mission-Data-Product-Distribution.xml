<?xml version="1.0" encoding="UTF-8" standalone="no"?><mal:specification xmlns:mal="http://www.ccsds.org/schema/ServiceSchema" xmlns:com="http://www.ccsds.org/schema/COMSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" comment="">
	<mal:area comment="This document contains the specification of Mission Data Product Distribution Services (MDPDS). The MDPDS provide access to space mission data. The Figure 2-1 illustrates the set of standards in support of the Mission Operations Services Concepts. The MDPDS belong to the Service Specifications.&#10;&#10;[INSERT IMAGE]&#10;&#10;Figure 1-1: Mission Operations Services Concept Document Set&#10;&#10;The MDPDS are in compliance with MO Service Framework layers (see reference [1]) and are defined in terms of the MAL [2] Therefore it is possible to deploy them over any supported communication protocol and message transport technology. " name="distribution" number="9" version="1">
		<mal:documentation name="Product concept" order="1">The product concept has been introduced, in order to abstract from the structure, content and format in which diverse space mission data products can be persisted, requested and provisioned. This abstraction allows the specification of a generic set of services for managing, requesting and provisioning of space mission data products, without making assumptions about the implementations of the underlying mission data product distribution systems.
The MDPDS specifies three elements, which combination uniquely defines each product. That triple consists of the product type, the product source and the product format. The product type represents a category of mission data, which the product belongs to (e.g. parameter value evolution in a given time period, action history). Each product type has a list of attributes assigned to it. Attributes define fields (by providing their names, data types and usage) which the product consists of. Some attributes can be selected to filter or sort the product. The next element, the product source, contains an absolute location of an origin of the data. It indicates what exactly generated the data (e.g. particular sensor of the particular satellite of the particular mission). The product format is a standardized description detailing how to encode mission data products (e.g. a raw binary value, XML). It provides means to represent the information, which the product carries, in a standardized way. For each predefined product type, there is assigned a list of basic formats in which the product can be obtained.
In order to browse available products, the MDPDS have introduced the concept of the catalogue of products. Because the product type, product source, and product format uniquely identify every product, a single catalogue entry stores those three elements. Elements of the triple are related with each other. Every product type has assigned a list of product sources. A product format can be added only to the already defined pair of a product type and source. Due to that relation, the same order of adding product type, source and format is required to define new product. For the same reason, removal of a product source results in removal of the related product formats and, in turn, removal of a product type results in removal of the related product sources and formats.
The catalogue stores also additional information. Among them is a list of product attributes, being the subset of all the product attributes, which enumerates only the ones which can be used for filtering and sorting purposes. Furthermore, the catalogue entry contains a provisioning mode, compression methods, encryption methods and a description of the each product.
To make the product available it is required to add it to the catalogue and afterwards to optionally define its internal structure, called the product specification. The product specification represents product attributes in a portable way, by the means of the MAL service description language. The MDPDS provide a set of standardized product specifications for a limited number of product types, which are typically involved in interoperable mission operation scenarios. For other product types, it is possible to add a customized product specification.
		</mal:documentation>
		<mal:documentation name="Mission Data Product Distribution Services composition" order="2">The Mission Data Product Distribution Services consist of two services: Products Management and Mission Data Product Distribution. The purpose of each service is different, but they are related by a common concept. The relation is established by the catalogue of products. The Products Management service allows manipulation of the catalogue by providing means for defining available products. It can also be seen as a component responsible for the configuration of the Mission Data Product Distribution solution. The Mission Data Product Distribution service allows obtaining a list of products that the user is interested in and retrieving the selected product. From another perspective, it can be perceived as a specification of the interface for retrieval of the information about the products and the products themselves.

Figure 2‑2 The Use Case diagram for the Products Management service.

The use case diagram in the Figure Figure 2-2 presents an overview of the functionality provided by Products Management service. The main role of the service is to manage the catalogue of products. Each product, before it can be accessed, must have been created in the catalogue. As mentioned in section Error: Reference source not found, the product catalogue entry contains the triple of the product type, source and format along with additional details. Hence, the management of the catalogue relies on defining catalogue entries containing all those information for new products and removing entries for unavailable products.
As mentioned earlier, the product becomes available when it is defined in the catalogue. Providing product specification is recommended, but not required. To satisfy this recommendation, the Product Management service allows setting the specification of each product. Moreover, some of the attributes of the product specification can be configured to be used to filter or sort requested product. This action can be done only after adding a specification for the particular product.
Another aspect of the service is a possibility to define product streams. The MDPDS provides products in batch and stream provisioning modes. To allow provision of products in the latter mode, the stream must have been created in Product Management service first. The service allows creation of streams that transmit only instances of the products that have the specified type, come from the selected source, are in the chosen format and additionally match certain criteria.


Figure 2‑3 The Use Case diagram for the Mission Data Product Distribution service.

The model in the Figure Figure 2-3 illustrates the capabilities offered by the Mission Data Product Distribution service. The service allows the retrieval of the catalogue of products that has been defined in the Product Management service. It provides the functionality to query the catalogue by a given set of criteria, in order to limit the number of catalogue entries only to those, which the client may be interested in.
The main goal of the service is to deliver the mission data products to user who requested them. There are two provisioning modes – a batch mode and a stream mode. They differ in how they work and in functionality they offer. The batch mode enables to retrieve the historical data in a bunch, as well as the future data by scheduled periodic polling to check if some new is available. On the other hand, the stream mode provides the data once it is available and does it until the user is interested in receiving updates. Both provisioning modes enable limiting the products to retrieve, by specifying filter criteria.
The service also allows the client to obtain a list of attributes that can be used to compose a filter. The specification of the product can also be downloaded. An execution of each request may be cancelled at any moment. Additionally, batch requests can be suspended and resumed on demand. The service maintains the list of historical product requests and provides ability to browse them.
		</mal:documentation>
		<mal:documentation name="MissionDataProductDistribution service" order="3">The Mission Data Product Distribution service provides capabilities for retrieving the information about mission data products supported by a particular instance of the service and for distribution of selected products. It presents the consumer an interface that allows retrieving a list of available products, downloading their specifications and attributes, composing batch or stream product requests, managing their state and finally retrieving their execution status. The COM archive is responsible for storing the data that compose the products catalogue along withrelated product specifications and storing historical requests.

Figure 2‑7 A basic flow of actions required to request the product.

The diagram in the Figure 2-7 presents a typical flow of actions performed to obtain the product. The service allows the consumer to retrieve the information about the products, which are supported by a particular instance of the service provider, through requesting the catalogue of products of that provider instance. The returned list may contain a large number of catalogue entries. Therefore the catalogue can be filtered by product types and their descriptions, product formats, product sources, compression and encryption methods and provision modes. Once the product is decided upon, the user can also request its product specification, a list of sort attributes and a list of filter attributes.


Figure 2‑8 A batch product request.

The service allows the user to create either a batch or a stream request. Both require providing some details among which the most important ones are the product type, source, and format. There could be also optionally specified a list of filtering criteria. Moreover,  the response data may be compressed and encrypted.
The Figure 2-8 presents a batch request, which can be handled immediately or scheduled for single or repeatable execution. The repeatable request is defined in terms of an execution date of the first request specified in relation to the UTC time zone, an interval and the expiry date. When the user issues the repeatable request, the MDPDS convert it to a list of sub-requests and assigns a request identifiers for each one of them, so they can be checked and controlled separately. In order not to schedule infinite number of sub-requests, the maximum number of sub-requests or the maximum period of time to schedule sub-requests shall be defined during implementation. The request can be cancelled or suspended at any time on demand and resumed from the same point within data transmission. The current status of the request is maintained by the service and can be checked anytime.


Figure 2‑9 A stream product request.

In the Figure 2-9 there is illustrated a process of subscribing to the product stream. The stream contains instances of the requested product and is already created in Product Management service. The only action left to execute is to subscribe to it in order to receive updates. Updates are sent till stream is not closed, is expired or until a signal with an unsubscribe message is sent. The stream can be closed at any time by invoking a proper operation in Product Managements service, so then all subscriptions become invalid and all the subscribers stop receiving any updates. The same situation happens when the stream expires, where the expiry date is one of the parameters of the stream creation. Finally, updates stop being sent to the subscriber when unsubscribe action is called – then only that particular subscriber is affected, the others still receive the upcoming data.
		</mal:documentation>
		<mal:documentation name="ProductsManagement service" order="4">The Products Management service provides the capabilities to manage the catalogue of the products on the service provider side. It presents the consumer a convenient interface to modify catalogue entries, product specifications and product attributes. It can be also used to create a stream of product updates. Storage of any data generated in the service is delegated to the COM archive.
The process of creating a product must be conducted in the proper order, which is illustrated in the Figure 2-4.

Figure 2‑4: Actions to create a new product

The first step of this process is to create a catalogue entry. It is complex activity that can be decomposed into group of smaller steps shown on the diagram in the Figure 2-4.


Figure 2‑5 Actions to create a catalogue entry
The creation of the catalogue entry begins with providing a type of a new product. Because the name of the product type could not be sufficient to explain what category of the mission data the product belongs to, the consumer may additionally add a description. As sole type does not provide all information that describes the product, so the next step is to specify all the sources, which the product is available from. Then the only piece of information left to unambiguously distinguish different products is their data representation, which is expressed by a product format. Having defined the product type, the source and the format, availability in the batch or the stream provision mode has to be set. Optionally, in the last step, there could be specified compression and encryption methods applicable for the product. Finally, the catalogue entry is created and stored in the COM archive.
The creation of the catalogue entry is sufficient to make the product available. However it is recommended to provide a specification for every available product. This is illustrated in the step two in the Figure 2-4. Eventually, the selected attributes of the product specification may be configured to be used in product requests as filter or sort parameters. Again, also in this case, the COM archive is used to store provided information.

Figure 2‑6 The creation of the product stream.

The catalogue keeps information if the particular product can be streamed. For products applicable for streaming, the Product Management service may be used to create their streams. A stream creation may  happen at any point in time, whenever a need occurs. Flow of actions presented in the Figure 2-6 illustrates how the stream is created. At first, product type, the source and the format are selected. As the client may be interested in obtaining only products that match certain criteria, a filter with a desired combination of chosen product attributes has to be provided. If required, additional stream options may be passed: for securing the stream, an encryption algorithm has to be set, for limiting the size of data, a compression algorithm has to be pointed. There is also provided an option to automatically close the stream after the specified date has passed.
		</mal:documentation>
		<mal:documentation name="Rationale" order="5">The MDPDS specification defines means for distribution of mission data products. Therefore this chapter is intended to detail the description of the interface exposed by MDPDS, designated to fulfill this need. It enumerates the service requirements, specifies all the operations and data types required to manage and transfer products and describes methods of the interaction between objects.
		</mal:documentation>
		<mal:documentation name="Functional requirements" order="6">This Recommended Standard specifies an interface to distribute mission data products, which meets the following requirements:

Retrieval of misison data products for a given time period.

The consumer of the MDPDS shall be able to request historic mission data products for a given time period, specifying :
Product type
Product format
Encryption format (optional)
Compression format (optional)
Schedule (optional)
Filter (optional).
Sort field name (optional)
Message chunk size (optional)

Batch Request
The MDPDS provider shall generate a complete mission data product that fulfills the product request and provide itto the consumer in a finite number of chunks. The number of the chunks shall depend on the maximum size of the chunk specified by the consumer.The MDPDS provider shall allow distribution of the mission data products over a transport protocol and delivery of the data to the remote destination, where both the protocol and the destination shall be specified in the product request.

Request Identifiers
The MDPDS shall assing a unique id to each request for a mission product. It shall report the  status of the product delivery and the number of provisioned chunks after the last chunk of the mission data product  has been provisioned.

Request scheduling
The MDPDS shall allow the consumer to schedule  an execution of a request.The MDPDS shall support at least the following scheduling attributes:
Begin time in relation to the UTC time zone
Interval
Repeatability
Expiry time in relation to the UTC time zone

Stream Request
The MDPDS provider shall generate a stream of mission data product instances that fulfill the product request and provide them to the consumer in a stream of messages. Once new mission data product becomes available, the provider shall send it to all subscribed consumers. The MDPDS shall assign a unique id to each product stream. 

Query Product Requests
The MDPDS provider shall provide a list of historical requests of mission data products.
The MDPDS shall allow the consumer to filter requests of mission data products by:
Time range
Status
Account name

Control Request Execution
The MDPDS shall allow the consumer to suspend a not completed request.
The MDPDS shall allow the consumer to resume a request.
The MDPDS shall allow the consumer to terminate a not completed request.

Retrieval of Catalogue of Products
The MDPDS shall allow modification of the catalogue of products.

Modification of catalogue of products
The MDPDS shall allow to modify a catalogue of products.

Assignment and removal of the specifcation of the product
The MDPDS consumer shall be able to assign a product specification to every product. The MDPDS consumer shall be able to remove a product specification.

Retrieval of Product Attributes
The MDPDS shall be able to provide a list of product attributes.

Modification of the list of product types
The MDPDS consumer shall be able to add a product type by providing a self-descriptive name of the product and an optional description. The MDPDS consumer shall be able to remove a product type.

Modification of the list of sources
The MDPDS consumer shall be able to add a product source for the given product type by specyfing a URI address. The MDPDS consumer shall be able to remove a source.

Modification of the list of product provisioning details
The MDPDS consumer shall be able to add a product provisioning details for each combination of the product type and source:
product format
privisioning mode
compression format
encryption format
The MDPDS consumer shall be able to remove the product provisioning detail.

Modification of the list of product attributes
The MDPDS consumer shall be able to define a product attribute, which can be used by operations of filtering or sorting a product. The MDPDS consumer shall be able to remove a  product attribute,

Definition of standard products
The MDPDS shall define structures of standard product types.

Definition of standard formats
The MDPDS shall define standard formats of products.
		</mal:documentation>
		<mal:service comment="The MissionDataProductDistribution service provides operations to retrieve a catalogue of products and request a product in the batch mode or in the stream mode from one of configured data sources. The service provides also mechanisms to check a progress of the data delivery and to control it by suspend, resume and cancel operations.&#10;&#10;Figure 3‑10 A typical use case scenario for retrieval of the mission data product.&#10;A typical use case scenario of the MDPD service is following (Figure 3-10). By invoking the getProductsCatalogue() operation, the Consumer retrieves from the Provider a list of product catalogue entries, which he may be interested in. To limit a number of potential matches, criteria that the response must meet may be provided. This is annotated in the picture by filter parameter of the getProductsCatalogue() operation. As the catalogue entries are actually stored in the COM archive, the Provider passes the request to the archive and returns a filtered list of matching entries. Next, the Consumer selects one of the products and retrieves, directly from the archive, its detailed information (the type, source, format, provisioning mode and attributes). Through the Provider, the Consumer obtains the detailed specification of the product. For that purpose the getProductSpecification() operation is executed. Its parameter is the type of the selected product. Finally, the Consumer sends to the Provider a customized product request in either a batch or a stream provisioning mode. The request specifies all the conditions that the product to retrieve must meet. In case of the batch mode, product is obtained through the requestProduct() operation. All the matching product instances are received one by one in the loop. Optionally, the execution of the request can be cancelled, suspended and resumed at any time. In turn, for the stream mode, the Consumer first creates stream containing instances of the specified product. The stream is created by the enableStreaming() operation of the Product Management service. Then the monitorProduct() operation is invoked by the Consumer to subscribe for all messages from that stream and to receive upcoming updates. At the end, the stream is closed by the disableStreaming() operation of the Product Management service." name="MissionDataProductDistribution" number="1" xsi:type="com:ExtendedServiceType">
			<mal:documentation name="HIGH LEVEL REQUIREMENTS" order="1">a) The MissionDataProductDistribution service shall provide:
a. the capability for requesting a product in two provisioning modes;
b. the capability for retrieving a status of request execution;
c. the capability for retrieving parameters of historic requests;
d. the capability for controlling the execution of a request;
e. the capability for retrieving the catalogue of products;
f. the capability for retrieving the specification of a product;
g. the capability for retrieving the attributes of a product.
b) The list of definitions of typical product types that are supported by the MissionDataProductDistribution service shall be declared during deployment of the service.
c) Each product request in the batch mode shall include:
a. a product type;
b. a product format;
c. a product source;
d. a destination (optional);
e. a time range (optional);
f. a filter (optional);
g. a schedule (optional);
h. an encryption (optional);
i. a compression (optional);
j. a field to sort the product (optional);
k. a chunk size (optional).
d) Each product request in the stream mode shall include use identifier of the product stream for subscription;
e) Each item in the catalogue of products shall contain COM object identifiers of:
a. a product type;
b. a product source;
c. a product provisioning detail.
f) The MissionDataProductDistribution shall use the COM archive service to store BatchProductRequest objects.
			</mal:documentation>
			<mal:documentation name="FUNCTIONAL REQUIREMENTS" order="2">a) If a product is not defined or the provisioning mode is disabled in the catalogue of products, the corresponding request is cancelled and an error is returned.
			</mal:documentation>
			<mal:capabilitySet comment="" number="1">
				<mal:progressIP comment="The requestProduct operation requests the mission data product to be delivered in the batch mode.&#10;The PROGRESS interaction pattern is used as the returned set of data may be quite large and this allows it to be split over several MAL messages. The matching product is returned in one or more update messages. The response message contains a summary of the transmitted data." name="requestProduct" number="1" supportInReplay="false">
					<mal:messages>
						<mal:progress comment="">
							<mal:field canBeNull="true" comment="The request field shall contain the ProductRequest.&#10;The productTypeId field of the supplied ProductRequest structure shall match Product Type object instance identifier in the COM archive; otherwise an INVALID_PRODUCT_TYPE error shall be raised.&#10;The productSourceId field of the supplied ProductRequest structure shall match Product Source object instance identifier in the COM archive; otherwise an INVALID_PRODUCT_SOURCE error shall be raised.&#10;The productFormatId field of the supplied ProductRequest structure shall match Product Format object instance identifier in the COM archive; otherwise an INVALID_PRODUCT_FORMAT error shall be raised.&#10;If for the selected Product Type, Product Format, and Product Source, the corresponding ProductCatalogueEntryDetails does not support the batch mode, a PRODUCT_NOT_SUPPORTED_IN_BATCH error shall be returned.&#10;If the destination address is not in the form of the URI (RFC 3986) or the destination does not exist, a DESTINATION_UNKNOWN error shall be returned. If the destination exists, but a connection cannot be established or a product cannot be delivered, a DELIVERY_FAILED error shall be returned.&#10;If endTime is earlier than startTime, an INVALID_TIME_RANGE shall be returned.&#10;If startTime is NULL, the request concerns the time range from the earliest available mission data product to the endTime value.&#10;If endTime is NULL, the request concerns the time range from the startTime value to the current time.&#10;If startTime or endTime value is higher than the current time, an INVALID_TIME_RANGE shall be returned." name="request">
								<mal:type area="distribution" list="false" name="BatchProductRequestDetails"/>
							</mal:field>
						</mal:progress>
						<mal:acknowledgement comment="">
							<mal:field canBeNull="true" comment="The requestId field in the acknowledge message shall contain the object instance identifier of the Request." name="requestId">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:field>
							<mal:field canBeNull="true" comment="If the request is scheduled, the subRequestIds field shall contain a list of the object instance identifiers of the Requests assigned for scheduled sub-requests." name="subRequestIds">
								<mal:type area="MAL" list="true" name="Long"/>
							</mal:field>
							<mal:field canBeNull="true" comment="The productSize field shall contain the estimated product size specified in bytes. If the size is unknown, the value of the field shall be null." name="productSize">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:field>
						</mal:acknowledgement>
						<mal:update comment="">
							<mal:field canBeNull="false" comment="The requestId field in the update message shall contain the object instance identifier of the Request related to the requested product." name="requestId">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:field>
							<mal:field canBeNull="true" comment="The product field shall contain the matching product.&#10;The product shall match all filter criteria. This forms a logical AND operation.&#10;If there is no product matching filter criteria, then update messages shall not be sent.&#10;If the destination field of the ProductRequest is used, then update messages shall contain only the requestId and the product field shall be NULL." name="product">
								<mal:type area="MAL" list="false" name="Element"/>
							</mal:field>
						</mal:update>
						<mal:response comment="">
							<mal:field canBeNull="true" comment="q) The response message shall contain the TransferReport." name="transferReport">
								<mal:type area="distribution" list="false" name="TransferReport"/>
							</mal:field>
						</mal:response>
					</mal:messages>
					<mal:errors>
						<mal:errorRef comment="The specified product type does not exist.">
							<mal:type area="distribution" list="false" name="INVALID_PRODUCT_TYPE"/>
						</mal:errorRef>
						<mal:errorRef comment="The format is not supported for the selected combination of the product type and the source.">
							<mal:type area="distribution" list="false" name="INVALID_PRODUCT_FORMAT"/>
						</mal:errorRef>						
						<mal:errorRef comment="The product source is not valid for the specified product type.">
							<mal:type area="distribution" list="false" name="INVALID_PRODUCT_SOURCE"/>
						</mal:errorRef>
						<mal:errorRef comment="The product is not supported in the batch mode for the selected combination of the Product Type, the Product Source and the Product Format.&#10;The instance identifier of the ProductCatalogueEntryDetails which provide available provision modes for the combination of the product type, the source and the format.">
							<mal:type area="distribution" list="false" name="PRODUCT_NOT_SUPPORTED_IN_BATCH"/>
							<mal:extraInformation comment="The instance identifier of the ProductCatalogueEntryDetails  which provide available provision modes for the combination of the product type, the source and the format.">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:extraInformation>
						</mal:errorRef>
						<mal:errorRef comment="The host specified in the destination field is unreachable.">
							<mal:type area="MAL" list="false" name="DESTINATION_UNKNOWN"/>
						</mal:errorRef>
						<mal:errorRef comment="The date or date format in timeRange is invalid.">
							<mal:type area="distribution" list="false" name="INVALID_TIME_RANGE"/>
						</mal:errorRef>						
						<mal:errorRef comment="One or more filter attributes are invalid. The attribute may not have been defined for the product, the selected comparison operation is not allowed or the attribute value does not match the product specification.&#10;The first invalid attribute is returned.">
							<mal:type area="distribution" list="false" name="INVALID_PRODUCT_ATTRIBUTE"/>
							<mal:extraInformation comment="The first invalid attribute is returned.">
								<mal:type area="MAL" list="false" name="Attribute"/>
							</mal:extraInformation>
						</mal:errorRef>						
						<mal:errorRef comment="Schedule data type contains invalid date, invalid date format or wrong expiry date.&#10;The first invalid parameter is returned.">
							<mal:type area="distribution" list="false" name="INVALID_SCHEDULE"/>
							<mal:extraInformation comment="The first invalid parameter is returned.">
								<mal:type area="MAL" list="false" name="Attribute"/>
							</mal:extraInformation>
						</mal:errorRef>
						<mal:errorRef comment="The request execution scheduling is not supported by the implementation.">
							<mal:type area="distribution" list="false" name="SCHEDULING_NOT_SUPPORTED"/>
						</mal:errorRef>						
						<mal:errorRef comment="The encryption algorithm for the selected product is invalid or not supported by the implementation.">
							<mal:type area="distribution" list="false" name="ENCRYPTION_ALGORITHM_NOT_SUPPORTED"/>
						</mal:errorRef>
						<mal:errorRef comment="The compression format for the selected product is invalid or not supported by the implementation.">
							<mal:type area="distribution" list="false" name="COMPRESSION_FORMAT_NOT_SUPPORTED"/>
						</mal:errorRef>			
						<mal:errorRef comment="The sorting format for the selected product is invalid or not supported by the implementation.">
							<mal:type area="distribution" list="false" name="SORTING_NOT_SUPPORTED"/>
						</mal:errorRef>						
						<mal:errorRef comment="The chunk size is invalid or splitting the product into update messages is not supported by the implementation.">
							<mal:type area="distribution" list="false" name="INVALID_CHUNK_SIZE"/>
						</mal:errorRef>
						<mal:errorRef comment="The product could not be delivered due to a communication error.">
							<mal:type area="MAL" list="false" name="DELIVERY_FAILED"/>
						</mal:errorRef>
						<mal:errorRef comment="An unknown error has occurred.">
							<mal:type area="MAL" list="false" name="UNKNOWN"/>
						</mal:errorRef>
						<mal:errorRef comment="The transfer protocol specified in the request is not supported by the provider.">
							<mal:type area="distribution" list="false" name="TRANSFER_PROTOCOL_NOT_SUPPORTED"/>
						</mal:errorRef>
						<mal:errorRef comment="The attributes of the transfer protocol specified in the request are invalid.">
							<mal:type area="distribution" list="false" name="INVALID_TRANSFER_PROTOCOL_ATTRIBUTES"/>
						</mal:errorRef>
					
						<mal:errorRef comment="The file name of the response is invalid. It may be caused by an invalid character, an invalid path or, when using templates, an invalid special identifier.">
							<mal:type area="distribution" list="false" name="INVALID_FILE_NAME"/>
						</mal:errorRef>
						<mal:errorRef comment="The authentication details provided in the destination field are invalid.">
							<mal:type area="MAL" list="false" name="AUTHENTICATION_FAIL"/>
						</mal:errorRef>
						<mal:errorRef comment="The user has no credentials to execute the requested operation on the remote system.">
							<mal:type area="MAL" list="false" name="AUTHORISATION_FAIL"/>
						</mal:errorRef>
					</mal:errors>
				</mal:progressIP>
				<mal:submitIP comment="The suspend operation suspends the execution of the current or scheduled product request until resumeRequest or cancelRequest operation is invoked." name="suspendRequest" number="2" supportInReplay="false">
					<mal:messages>
						<mal:submit comment="">
							<mal:field canBeNull="true" comment="The requestId field shall contain the object instance identifier of the Request.&#10;If the requestId field equals 0, all not completed requests of the current user are suspended.&#10;If requestId does not exist, an INVALID_REQUEST_ID error shall be returned.&#10;In case of the scheduled request, the main requestId may be used to suspend all sub-requests.&#10;In case of the scheduled request, suspending one sub-request does not affect other sub-requests." name="requestId">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:field>
						</mal:submit>
					</mal:messages>
					<mal:errors>
						<mal:errorRef comment="The request object instance identifier does not exist.">
							<mal:type area="distribution" list="false" name="INVALID_REQUEST_ID"/>
						</mal:errorRef>
						<mal:errorRef comment="An unknown error has occurred.">
							<mal:type area="MAL" list="false" name="UNKNOWN"/>
						</mal:errorRef>						
					</mal:errors>
				</mal:submitIP>
				<mal:submitIP comment="The resume operation resumes the execution of the product request. The resume operation continues from the last delivered chunk of data." name="resumeRequest" number="3" supportInReplay="false">
					<mal:messages>
						<mal:submit comment="">						
							<mal:field canBeNull="true" comment="The requestId field shall contain the object instance identifier of the Request.&#10;If requestId does not exist, an INVALID_REQUEST_ID error shall be returned.&#10;If the requestId field equals 0, all suspended requests of the current user are resumed.&#10;In case of the scheduled request, the main requestId may be used to resume all sub-requests.&#10;In case of the scheduled request, resuming one sub-request does not influence other sub-requests." name="requestId">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:field>
						</mal:submit>
					</mal:messages>
					<mal:errors>
						<mal:errorRef comment="An unknown error has occurred.">
							<mal:type area="MAL" list="false" name="UNKNOWN"/>
						</mal:errorRef>
						<mal:errorRef comment="The request object instance identifier does not exist.">
							<mal:type area="distribution" list="false" name="INVALID_REQUEST_ID"/>
						</mal:errorRef>
					</mal:errors>
				</mal:submitIP>
				<mal:submitIP comment="The cancel operation cancels the execution of the current or the scheduled request. Not delivered data is lost." name="cancelRequest" number="4" supportInReplay="false">
					<mal:messages>
						<mal:submit comment="">
							<mal:field canBeNull="true" comment="The requestId field shall contain the object instance identifier of the Request.&#10;If requestId does not exist, an INVALID_REQUEST_ID error shall be returned.&#10;If the requestId field equals 0, all not completed requests of the current user are canceled.&#10;In case of the scheduled request, the main requestId may be used to cancel all sub-requests.&#10;In case of the scheduled request, cancelling one sub-request does not influence other sub-requests." name="requestId">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:field>
						</mal:submit>
					</mal:messages>
					<mal:errors>
						<mal:errorRef comment="An unknown error has occurred.">
							<mal:type area="MAL" list="false" name="UNKNOWN"/>
						</mal:errorRef>
						<mal:errorRef comment="The request object identifier does not exist.">
							<mal:type area="distribution" list="false" name="INVALID_REQUEST_ID"/>
						</mal:errorRef>
					</mal:errors>
				</mal:submitIP>
			</mal:capabilitySet>
			<mal:capabilitySet comment="" number="2">
			<mal:requestIP comment="The getRequestStatus operation returns the current status of processing of a historical, an ongoing or a scheduled request. The operation allows the user to filter request statuses." name="getRequestStatus" number="5" supportInReplay="false">
					<mal:messages>
						<mal:request comment="">
							<mal:field canBeNull="true" comment="The filter field shall contain parameters to filter the current status of requests by a request identifier, a user identifier, a state or a time range.&#10;The filter may contain multiple criteria combined by a logical AND operator.&#10;The filter filed may contain comparison operators, ranges of values and multiple wildcard characters.&#10;If more than one filter parameter is used, the results shall be combined using logical conjunction." name="filter">
								<mal:type area="COM" list="false" name="CompositeFilterSet" service="Archive"/>
							</mal:field>
						</mal:request>
						<mal:response comment="">						
							<mal:field canBeNull="true" comment="The response shall contain a list of statuses of the requests, which match selected filter criteria." name="statuses">
								<mal:type area="distribution" list="true" name="RequestStatus"/>
							</mal:field>
						</mal:response>
					</mal:messages>
					<mal:errors>				
						<mal:errorRef comment="One or more filter attributes are invalid. The attribute is invalid when its name or type is different than any field of the BatchProductRequestDetails structure, when the comparison operator is not valid for the type of filter field or when the range is invalid.&#10;The first invalid attribute is returned.">
							<mal:type area="distribution" list="false" name="INVALID_PRODUCT_ATTRIBUTE"/>
							<mal:extraInformation comment="The first invalid attribute is returned.">
								<mal:type area="MAL" list="false" name="Composite"/>
							</mal:extraInformation>
						</mal:errorRef>						
						<mal:errorRef comment="An unknown error has occurred.">
							<mal:type area="MAL" list="false" name="UNKNOWN"/>
						</mal:errorRef>	
						<mal:errorRef comment="The filter contains an invalid object instance identifier of the BatchProductRequestDetails.">
							<mal:type area="distribution" list="false" name="INVALID_REQUEST_ID"/>
						</mal:errorRef>
					</mal:errors>
				</mal:requestIP>		
				<mal:requestIP comment="The queryProductRequest operation returns the content of requests which match filter criteria." name="queryProductRequest" number="6" supportInReplay="false">
					<mal:messages>
						<mal:request comment="">
							<mal:field canBeNull="true" comment="The filter indicates conditions that the response with the request must meet. The response can be filtered by the request object instance identifier or any combination of the fields: the product type, the format, the source, the destination, the time range, the user and the state.&#10;The filter may contain comparison operators, ranges and multiple wildcard characters.&#10;If more than one filter parameter is used, the results shall be combined using logical operators." name="filter">
								<mal:type area="COM" list="false" name="CompositeFilterSet" service="Archive"/>
							</mal:field>
						</mal:request>
						<mal:response comment="">
							<mal:field canBeNull="true" comment="The response shall contain the list of requests that match all filter criteria. This forms a logical AND operations." name="requests">
								<mal:type area="distribution" list="true" name="BatchProductRequestDetails"/>
							</mal:field>
						</mal:response>
					</mal:messages>
					<mal:errors>
						<mal:errorRef comment="One or more filter attributes are invalid. The attribute is invalid when its name or type is different than any field of the BatchProductRequestDetails structure, when the comparison operator is not valid for the type of filter field or when the range is invalid.&#10;The first invalid attribute is returned.">
							<mal:type area="distribution" list="false" name="INVALID_PRODUCT_ATTRIBUTE"/>
							<mal:extraInformation comment="The first invalid attribute is returned.">
								<mal:type area="MAL" list="false" name="Composite"/>
							</mal:extraInformation>
						</mal:errorRef>					
						<mal:errorRef comment="An unknown error has occurred.">
							<mal:type area="MAL" list="false" name="UNKNOWN"/>
						</mal:errorRef>
						<mal:errorRef comment="The filter contains an invalid object instance identifier of the BatchProductRequestDetails.">
							<mal:type area="distribution" list="false" name="INVALID_REQUEST_ID"/>
						</mal:errorRef>
					</mal:errors>
				</mal:requestIP>
			</mal:capabilitySet>						
			<mal:capabilitySet comment="" number="3">
				<mal:pubsubIP comment="The monitorProduct operation requests a continuous stream of data rather than a finite stored data set.&#10;The PUB-SUB interaction pattern is used in order to allow a consumer to subscribe for products. When new data is available, all subscribers receive a message with a product update. The operation allows the consumer to subscribe for a product by choosing an object instance identifier assigned to the product stream. This identifier is provided by the EntityKey structure:&#10;a) the value of the firstSubKey is NULL;&#10;b) the value of the secondSubKey is identifier of the stream;&#10;c) the value of the thirdSubKey is NULL;&#10;d) the value of the fourthSubKey is NULL." name="monitorProduct" number="7" supportInReplay="false">
					<mal:messages>
						<mal:publishNotify comment="">
							<mal:field canBeNull="true" comment="The product field shall contain the matching product." name="product">
								<mal:type area="MAL" list="false" name="Element"/>
							</mal:field>						
						</mal:publishNotify>
					</mal:messages>
					<mal:errors>
						<mal:errorRef comment="The subscription identifier is invalid.">
							<mal:type area="distribution" list="false" name="INVALID_STREAM_ID"/>
						</mal:errorRef>											
						<mal:errorRef comment="The product could not be delivered due to a communication error.">
							<mal:type area="MAL" list="false" name="DELIVERY_FAILED"/>
						</mal:errorRef>
						<mal:errorRef comment="An unknown error has occurred.">
							<mal:type area="MAL" list="false" name="UNKNOWN"/>
						</mal:errorRef>
					</mal:errors>
				</mal:pubsubIP>			
			</mal:capabilitySet>
			<mal:capabilitySet comment="" number="4">
				<mal:requestIP comment="The getProductsCatalogue operation provides a list of products available in the catalogue and detailed information about each of them." name="getProductsCatalogue" number="8" supportInReplay="false">
					<mal:messages>
						<mal:request comment="">
							<mal:field canBeNull="true" comment="The filter field may contain parameters to filter a catalogue of products by any field of ProductTypeDetails, ProductProvisioningDetails or ProductSource structures.&#10;The filter may contain multiple criteria.&#10;The filter may contain comparison operators, ranges of values and wildcard characters.&#10;If more than one filter parameter is used, the results shall be combined using logical operators.&#10;If the filter field is NULL, the response shall contain the list of all available products." name="filter">
								<mal:type area="COM" list="false" name="CompositeFilterSet" service="Archive"/>
							</mal:field>
						</mal:request>
						<mal:response comment="">
							<mal:field canBeNull="true" comment="The productsCatalogue field shall contain a list of ProductCatalogueEntryDetails objects." name="productsCatalogue">
								<mal:type area="distribution" list="true" name="ProductCatalogueEntryDetails"/>
							</mal:field>
						</mal:response>
					</mal:messages>
					<mal:errors>
						<mal:errorRef comment="One or more filter attributes are invalid. The attribute is invalid when its name or type is different than any field of the ProductTypeDetails,&#10;ProductProvisioningDetails or ProductSource structures, the selected comparison operation is not allowed or the attribute value does not match the attribute type.&#10;The first invalid attribute is returned.&#10;The first invalid attribute is returned.">
							<mal:type area="distribution" list="false" name="INVALID_PRODUCT_ATTRIBUTE"/>
							<mal:extraInformation comment="The first invalid attribute is returned.">
								<mal:type area="MAL" list="false" name="Attribute"/>
							</mal:extraInformation>
						</mal:errorRef>
						<mal:errorRef comment="An unknown error has occurred.">
							<mal:type area="MAL" list="false" name="UNKNOWN"/>
						</mal:errorRef>
					</mal:errors>
				</mal:requestIP>
				<mal:requestIP comment="The getProductSpecification operation returns a specification of the product. The retrieved XML file is the MAL data type specification for the Product Type." name="getProductSpecification" number="9" supportInReplay="false">
					<mal:messages>
						<mal:request comment="">
							<mal:field canBeNull="true" comment="The productTypeId field shall contain the object instance identifier of the ProductTypeDetails.&#10;If productTypeId does not exist, an INVALID_PRODUCT_TYPE error shall be returned." name="productTypeId">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:field>
						</mal:request>
						<mal:response comment="">
							<mal:field canBeNull="true" comment="The response shall contain a specification of the product in the form of a MAL::File structure." name="productSpecification">
								<mal:type area="MAL" list="false" name="File"/>
							</mal:field>
						</mal:response>
					</mal:messages>
					<mal:errors>						
						<mal:errorRef comment="The specified product type does not exist.">
							<mal:type area="distribution" list="false" name="INVALID_PRODUCT_TYPE"/>
						</mal:errorRef>
						<mal:errorRef comment="An unknown error has occurred.">
							<mal:type area="MAL" list="false" name="UNKNOWN"/>
						</mal:errorRef>
					</mal:errors>
				</mal:requestIP>				
			</mal:capabilitySet>
			<com:features>
				<com:objects comment="A BatchProductRequest COM object represents the body of the batch product request. A BatchProductRequest COM object body shall hold the BatchProductRequestDetails structure.&#10;The LoginInstance structure of the Login Service shall indicate a user who issued the request[move description to Source Object column]">
					<com:object comment="The content of the product request shall be represented as the BatchProductRequestDetails COM object." name="BatchProductRequest" number="1">
						<com:objectType>
							<mal:type area="distribution" list="false" name="BatchProductRequestDetails"/>
						</com:objectType>
						<com:relatedObject comment=""/>
						<com:sourceObject comment="The LoginInstance structure of the Login Service shall indicate a user who issued the request."/>
					</com:object>					
				</com:objects>
				<com:events comment="When a new mission data product for the selected type, source and format is published, the NewProductAvailable event shall be generated.&#10;The NewProductAvailable event shall use the related link to indicate the ProductCatalogueEntryDetails of the corresponding product.&#10;When the product becomes unavailable, the ProductUnavailable event shall be generated.&#10;The ProductUnavailable event shall use the related link to indicate the ProductCatalogueEntryDetails of the corresponding product.">
					<com:event comment="When a new mission data product for the selected type, format and source is published, the NewProductAvailable event shall be generated. " name="NewProductAvailable" number="101">
						<com:relatedObject comment="The NewProductAvailable event shall use the related link to indicate the ProductCatalogueEntryDetails of the corresponding product.">
							<com:objectType area="distribution" number="5" service="ProductsManagement"/>
						</com:relatedObject>
						<com:sourceObject comment="">
						</com:sourceObject>
					</com:event>
					<com:event comment="When the product becomes unavailable, the ProductUnavailable event shall be generated." name="ProductUnavailable" number="102">
						<com:relatedObject comment="The ProductUnavailable event shall use the related link to indicate the ProductCatalogueEntryDetails of the corresponding product.">
							<com:objectType area="distribution" number="5" service="ProductsManagement"/>
						</com:relatedObject>
						<com:sourceObject comment="">
						</com:sourceObject>
					</com:event>
				</com:events>
				<com:archiveUsage comment="A BatchProductRequest objects shall be stored in the COM archive."/>				
			</com:features>
		</mal:service>
		<mal:service comment="The Products Management service allows the consumer to set up the Mission Data Product Distribution service. All products which the system supports must be defined prior they can be obtained. Each product is characterized by its &#10;type, &#10;format&#10;sources&#10;internal structure&#10;attributes&#10;provision modes&#10;compression&#10;encryption formats&#10;The Product Type, the Product Source and the Product Details constitute ProductCatalogueEntry, are kept in the COM archive and can be browsed by the user.&#10;&#10;A typical use case scenario of the Product Management service is as follows. For each available product, the Consumer sends to the Provider a series of messages that result in creation of a product catalogue entry in the COM Archive. First message, passed by addProductType() operation, contains a request to add a new product type, along with its short description. Next, there are issued addProductSource() messages defining all the sources, from where particular type of product can be obtained. For each combination of the product type and the source, the Consumer calls addProductDetail() operation to specify formats, provisioning modes and optionally other details describing the product. When a unique triple of the product type, source and details has been provided, the Provider automatically creates catalogue entry. Next step is concerned with setting the product specification by executing setProductSpecification() operation for each particular product. The product becomes fully described and from now on can be requested. At the end, it is optional to define which attributes of the product specification can be used for product filtering or sorting (addProductAttributes() operation). In case no attributes for the product has been defined, usage of filter or sort fields in a request for this product will cause an error." name="ProductsManagement" number="2" xsi:type="com:ExtendedServiceType">
			<mal:documentation name="HIGH LEVEL REQUIREMENTS" order="1">a) The ProductsManagement service shall provide:
a. the capability for maintaining the catalogue of products;
b. the capability for maintaining the list of product specification;
c. the capability for maintaining the list of product attributes.
b) It shall be possible to add and delete:
a. product types;
b. product sources;
c. product provisioning details;
d. product attributes.
c) It shall be possible to set and delete product specification.
d) The ProductsManagement shall use the COM archive service to store:
a. a product type;
b. product provisioning details;
c. a product source;
d. a product catalogue entry;
e. a product specification;
f. a product attribute.
			</mal:documentation>
			<mal:documentation name="FUNCTIONAL REQUIREMENTS" order="2">a) A product source can be added only to existing product type.
b) When a product source is removed, corresponding definitions of product provisioning details shall be also removed.
c) A product provisioning detail can be added only to existing product type and product source.
d) When a product type is removed, corresponding definitions of product sources and product provisioning details shall be also removed.
e) Only one product specification can be assigned to a product type.
f) A product attribute can be added only if it is defined in a product specification.
g) An URI field of a product source shall an address in the form of the URI (RFC 3986).
			</mal:documentation>
			<mal:capabilitySet comment="" number="1">
				<mal:requestIP comment="The addProductType operation adds a new type of the product. The type of the product is used to inform to which category of space mission data the product belongs, e.g. telemetry, telecommand or event." name="addProductType" number="1" supportInReplay="false">
					<mal:messages>
						<mal:request comment="">
							<mal:field canBeNull="true" comment="The productType field shall contain a self-descriptive name of the product type." name="productType">
								<mal:type area="MAL" list="false" name="Identifier"/>
							</mal:field>
							<mal:field canBeNull="true" comment="The description field may contain additional information about the product type." name="description">
								<mal:type area="MAL" list="false" name="String"/>
							</mal:field>														
						</mal:request>
						<mal:response comment="">
							<mal:field canBeNull="true" comment="The productTypeId field shall contain an instance identifier of the product type." name="productTypeId">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:field>
						</mal:response>
					</mal:messages>
					<mal:errors>
						<mal:errorRef comment="An unknown error has occurred.">
							<mal:type area="MAL" list="false" name="UNKNOWN"/>
						</mal:errorRef>
						<mal:errorRef comment="The product type has already been defined.">
							<mal:type area="COM" list="false" name="DUPLICATE"/>
							<mal:extraInformation comment="An ExtraInfoType field contains an instance identifier of the already existing product type.">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:extraInformation>
						</mal:errorRef>
					</mal:errors>
				</mal:requestIP>
				<mal:submitIP comment="The removeProduct operation removes a selected Product Type. Also, all corresponding ProductCatalogueEntry objects are removed." name="removeProductType" number="2" supportInReplay="false">
					<mal:messages>
						<mal:submit comment="">
							<mal:field canBeNull="true" comment="The productTypeId field shall contain the object instance identifier of the Product Type.&#10;If productTypeId does not exist, an INVALID_PRODUCT_TYPE error shall be returned.&#10;The ProductCatalogueEntry objects which contain the identifier of the product type shall be removed from the COM." name="productTypeId">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:field>
						</mal:submit>
					</mal:messages>
					<mal:errors>
						<mal:errorRef comment="The specified product type does not exist.">
							<mal:type area="distribution" list="false" name="INVALID_PRODUCT_TYPE"/>
						</mal:errorRef>
						<mal:errorRef comment="An unknown error has occurred.">
							<mal:type area="MAL" list="false" name="UNKNOWN"/>
						</mal:errorRef>						
					</mal:errors>
				</mal:submitIP>	
			</mal:capabilitySet>	
			<mal:capabilitySet comment="" number="2">
				<mal:requestIP comment="The addProductSource operation adds a new source of the product." name="addProductSource" number="3" supportInReplay="false">
					<mal:messages>
						<mal:request comment="">
							<mal:field canBeNull="true" comment="The productTypeId field shall contain the object instance identifier of the Product Type.&#10;If productTypeId does not exist, an INVALID_PRODUCT_TYPE error shall be returned." name="productTypeId">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:field>						
							<mal:field canBeNull="true" comment="The productSource field shall contain an address in the form of the URI (RFC 3986)." name="productSource">
								<mal:type area="MAL" list="false" name="URI"/>
							</mal:field>
						</mal:request>
						<mal:response comment="">
							<mal:field canBeNull="true" comment="The productSourceId field shall contain the object instance identifier of the Product Source." name="productSourceId">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:field>
						</mal:response>
					</mal:messages>				
					<mal:errors>
						<mal:errorRef comment="An unknown error has occurred.">
							<mal:type area="MAL" list="false" name="UNKNOWN"/>
						</mal:errorRef>
						<mal:errorRef comment="The product source at the specified URI address is already defined.">
							<mal:type area="COM" list="false" name="DUPLICATE"/>
							<mal:extraInformation comment="An ExtraInfoType field contains an instance identifier of the already existing product source.">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:extraInformation>
						</mal:errorRef>
						<mal:errorRef comment="The specified product type does not exist.">
							<mal:type area="distribution" list="false" name="INVALID_PRODUCT_TYPE"/>
						</mal:errorRef>
						<mal:errorRef comment="The specified product source is not valid URI address.">
							<mal:type area="distribution" list="false" name="INVALID_PRODUCT_SOURCE"/>
						</mal:errorRef>
					</mal:errors>
				</mal:requestIP>
				<mal:submitIP comment="The removeProductSource operation removes the selected Product Source. Also, the corresponding ProductCatalogueEntry is removed." name="removeProductSource" number="4" supportInReplay="false">
					<mal:messages>
						<mal:submit comment="">
							<mal:field canBeNull="true" comment="The productSourceId field shall contain an instance identifier of the product source.&#10;The ProductCatalogueEntry objects which contain the identifier of the product source shall be removed from the COM." name="productSourceId">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:field>
						</mal:submit>
					</mal:messages>
					<mal:errors>
						<mal:errorRef comment="The specified product source does not exist.">
							<mal:type area="distribution" list="false" name="INVALID_PRODUCT_SOURCE"/>
						</mal:errorRef>
						<mal:errorRef comment="An unknown error has occurred.">
							<mal:type area="MAL" list="false" name="UNKNOWN"/>
						</mal:errorRef>
					</mal:errors>
				</mal:submitIP>
			</mal:capabilitySet>
			<mal:capabilitySet comment="" number="3">
				<mal:requestIP comment="The addProductFormat operation adds the format of data that can be used for obtaining products." name="addProductFormat" number="5" supportInReplay="false">
					<mal:messages>
						<mal:request comment="">
							<mal:field canBeNull="true" comment="The productFormat field shall contain a unique name of the format of the mission data product.&#10;If a product format which contains the same value of the productFormat field already exists, a DUPLICATE error shall be raised." name="productFormat">
								<mal:type area="MAL" list="false" name="Identifier"/>
							</mal:field>
							<mal:field canBeNull="true" comment="The description field may contain a short description of the product format." name="description">
								<mal:type area="MAL" list="false" name="String"/>
							</mal:field>
						</mal:request>
						<mal:response comment="">
							<mal:field canBeNull="true" comment="The productFormatId field shall contain an object instance identifier of the product format." name="productFormatId">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:field>
						</mal:response>
					</mal:messages>
					<mal:errors>					
						<mal:errorRef comment="The given set of product details has already been defined.">
							<mal:type area="COM" list="false" name="DUPLICATE"/>
							<mal:extraInformation comment="An ExtraInfoType field contains an instance identifier of the already existing product type.">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:extraInformation>
						</mal:errorRef>
						<mal:errorRef comment="An unknown error has occurred.">
							<mal:type area="MAL" list="false" name="UNKNOWN"/>
						</mal:errorRef>
					</mal:errors>
				</mal:requestIP>
				<mal:submitIP comment="The removeProductFormat operation removes the selected product format." name="removeProductFormat" number="6" supportInReplay="false">
					<mal:messages>
						<mal:submit comment="">
							<mal:field canBeNull="true" comment="The productFormatId field shall contain the object instance identifier of the ProductFormat.&#10;If the last ProductFormat is removed from the related ProductDetail, the ProductCatalogueEntry objects which contain the object instance identifier of the ProductDetail shall be removed from the COM." name="productFormatId">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:field>
						</mal:submit>
					</mal:messages>
					<mal:errors>
						<mal:errorRef comment="The specified product format does not exist.">
							<mal:type area="distribution" list="false" name="INVALID_PRODUCT_FORMAT"/>
						</mal:errorRef>						
						<mal:errorRef comment="An unknown error has occurred.">
							<mal:type area="MAL" list="false" name="UNKNOWN"/>
						</mal:errorRef>
					</mal:errors>
				</mal:submitIP>
			</mal:capabilitySet>
			<mal:capabilitySet comment="" number="4">
				<mal:requestIP comment="The addProductDetail operation assigns the format of the product, the support for provision modes and a list of compression and encryption algorithms to the combination of the product type and the product source. The triple of the product type, the product source and the product detail uniquely describes the available product and is kept in a new ProductCatalogueEntry object." name="addProductDetail" number="7" supportInReplay="false">
					<mal:messages>
						<mal:request comment="">
							<mal:field canBeNull="true" comment="The productTypeId field shall contain the object instance identifier of the product type.&#10;If productTypeId does not exist, an INVALID_PRODUCT_TYPE error shall be returned." name="productTypeId">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:field>
							<mal:field canBeNull="true" comment="The productSourceId field shall contain the object instance identifier of the Product Source.&#10;If productSourceId does not exist, an INVALID_PRODUCT_SOURCE error shall be returned." name="productSourceId">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:field>
							<mal:field canBeNull="true" comment="The productDetail shall contain the details about particular format of the product, its provision modes, compression and encryption methods.&#10;If Product Detail, which contains the same value of productFormat field, already exists for the selected product type and product source, a DUPLICATE error shall be raised." name="productDetail">
								<mal:type area="distribution" list="false" name="ProductProvisioningDetails"/>
							</mal:field>
						</mal:request>
						<mal:response comment="">
							<mal:field canBeNull="true" comment="The productDetailId field shall contain an object instance identifier of the ProductProvisioningDetailInstance." name="productDetailId">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:field>
						</mal:response>
					</mal:messages>
					<mal:errors>						
						<mal:errorRef comment="The specified product type does not exist.">
							<mal:type area="distribution" list="false" name="INVALID_PRODUCT_TYPE"/>
						</mal:errorRef>					
						<mal:errorRef comment="The given set of product details has already been defined.">
							<mal:type area="COM" list="false" name="DUPLICATE"/>
							<mal:extraInformation comment="An ExtraInfoType field contains an instance identifier of the already existing product type.">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:extraInformation>
						</mal:errorRef>
						<mal:errorRef comment="An unknown error has occurred.">
							<mal:type area="MAL" list="false" name="UNKNOWN"/>
						</mal:errorRef>
						<mal:errorRef comment="The specified product source does not exist.">
							<mal:type area="distribution" list="false" name="INVALID_PRODUCT_SOURCE"/>
						</mal:errorRef>
					</mal:errors>
				</mal:requestIP>
				<mal:submitIP comment="The removeProductDetail operation removes the selected product detail. Also, the corresponding ProductCatalogueEntry is removed." name="removeProductDetail" number="8" supportInReplay="false">
					<mal:messages>
						<mal:submit comment="">
							<mal:field canBeNull="true" comment="The productDetailId field shall contain the object instance identifier of the ProductDetail.&#10;The ProductCatalogueEntry objects which contain the object instance identifier of the ProductDetail shall be removed from the COM." name="productDetailId">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:field>
						</mal:submit>
					</mal:messages>
					<mal:errors>
						<mal:errorRef comment="The specified product detail does not exist.">
							<mal:type area="distribution" list="false" name="INVALID_PRODUCT_DETAIL"/>
						</mal:errorRef>						
						<mal:errorRef comment="An unknown error has occurred.">
							<mal:type area="MAL" list="false" name="UNKNOWN"/>
						</mal:errorRef>
					</mal:errors>
				</mal:submitIP>
			</mal:capabilitySet>
			<mal:capabilitySet comment="" number="5">
				<mal:requestIP comment="The setProductSpecification operation sets a specification of what the selected product consists. If a specification has been already set up, the new specification overrides the previous one." name="setProductSpecification" number="9" supportInReplay="false">
					<mal:messages>
						<mal:request comment="">
							<mal:field canBeNull="true" comment="The productTypeId field shall contain the object instance identifier of the Product Type.&#10;If productTypeId does not exist, an INVALID_PRODUCT_TYPE error shall be returned." name="productTypeId">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:field>
							<mal:field canBeNull="true" comment="The productSpecification field shall contain a file with the specification of the product in terms of the MAL language." name="productSpecification">
								<mal:type area="MAL" list="false" name="File"/>
							</mal:field>							
						</mal:request>
						<mal:response comment="">
							<mal:field canBeNull="true" comment="The productSpecificationId field shall contain an object instance identifier of the ProductSpecification." name="productSpecificationId">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:field>
						</mal:response>
					</mal:messages>
					<mal:errors>
						<mal:errorRef comment="The specified product type does not exist.">
							<mal:type area="distribution" list="false" name="INVALID_PRODUCT_TYPE"/>
						</mal:errorRef>
						<mal:errorRef comment="The structure describing the product type is invalid.">
							<mal:type area="distribution" list="false" name="INVALID_PRODUCT_SPECIFICATION"/>
						</mal:errorRef>
						<mal:errorRef comment="An unknown error has occurred.">
							<mal:type area="MAL" list="false" name="UNKNOWN"/>
						</mal:errorRef>						
					</mal:errors>
				</mal:requestIP>
				<mal:submitIP comment="The removeProductSpecification operation removes a specification of what the selected product consists." name="removeProductSpecification" number="10" supportInReplay="false">
					<mal:messages>
						<mal:submit comment="">
							<mal:field canBeNull="true" comment="The productSpecificationId field shall contain the object instance identifier of the product specification." name="productSpecificationId">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:field>
						</mal:submit>
					</mal:messages>
					<mal:errors>
						<mal:errorRef comment="The selected product specification does not exist.">
							<mal:type area="distribution" list="false" name="INVALID_PRODUCT_SPECIFICATION"/>
						</mal:errorRef>
						<mal:errorRef comment="An unknown error has occurred.">
							<mal:type area="MAL" list="false" name="UNKNOWN"/>
						</mal:errorRef>
					</mal:errors>
				</mal:submitIP>
			</mal:capabilitySet>
			<mal:capabilitySet comment="" number="6">	
				<mal:requestIP comment="The addProductAttribute operation defines an attribute that can be used to filter or sort a product request." name="addProductAttribute" number="11" supportInReplay="false">
					<mal:messages>
						<mal:request comment="">
							<mal:field canBeNull="true" comment="The productTypeId field shall contain the object instance identifier of the Product Type.&#10;If productTypeId does not exist, an INVALID_PRODUCT_TYPE error shall be returned." name="productTypeId">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:field>
							<mal:field canBeNull="true" comment="The productAttribute field shall contain a new attribute of the product." name="productAttribute">
								<mal:type area="distribution" list="false" name="ProductAttributeDetails"/>
							</mal:field>
						</mal:request>
						<mal:response comment="">
							<mal:field canBeNull="true" comment="The productAttributeId field shall contain an object instance identifier of the ProductAttribute." name="productAttributeId">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:field>
						</mal:response>
					</mal:messages>
					<mal:errors>
						<mal:errorRef comment="The specified product type does not exist.">
							<mal:type area="distribution" list="false" name="INVALID_PRODUCT_TYPE"/>
						</mal:errorRef>
						<mal:errorRef comment="The product attribute with given name has been already added.">
							<mal:type area="COM" list="false" name="DUPLICATE"/>
							<mal:extraInformation comment="An ExtraInfoType field contains an object instance identifier of the duplicated attribute.">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:extraInformation>
						</mal:errorRef>
						<mal:errorRef comment="An unknown error has occurred.">
							<mal:type area="MAL" list="false" name="UNKNOWN"/>
						</mal:errorRef>
					</mal:errors>
				</mal:requestIP>
				<mal:submitIP comment="The removeProductAttribute operation removes an attribute that can be used to filter or sort a product request." name="removeProductAttribute" number="12" supportInReplay="false">
					<mal:messages>
						<mal:submit comment="">
							<mal:field canBeNull="true" comment="The productAttributeId field shall contain the object instance identifier of the product attribute.&#10;If productAttributeId does not exist, an INVALID_PRODUCT_ATTRIBUTE error shall be returned." name="productAttributeId">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:field>							
						</mal:submit>
					</mal:messages>
					<mal:errors>
						<mal:errorRef comment="The name of the specified product attribute is invalid.">
							<mal:type area="distribution" list="false" name="INVALID_PRODUCT_ATTRIBUTE"/>
							<mal:extraInformation comment="An ExtraInfoType field contains the first invalid attribute.">
								<mal:type area="MAL" list="false" name="Attribute"/>
							</mal:extraInformation>
						</mal:errorRef>						
						<mal:errorRef comment="An unknown error has occurred.">
							<mal:type area="MAL" list="false" name="UNKNOWN"/>
						</mal:errorRef>
					</mal:errors>
				</mal:submitIP>
			</mal:capabilitySet>
			<mal:capabilitySet comment="" number="7">
				<mal:requestIP comment="The enableStreaming operation creates a new stream of the product. The stream contains the space mission data only of the selected type, source and format and matching filter criteria. Additionally, an encryption or a compression of the stream data may be enabled." name="enableStreaming" number="13" supportInReplay="false">
					<mal:messages>
						<mal:request comment="">
							<mal:field canBeNull="true" comment="The request field shall contain the StreamProductRequestDetails.&#10;The productTypeId field of the supplied StreamProductRequestDetails structure shall match Product Type object instance identifier in the COM Archive; otherwise an INVALID_PRODUCT_TYPE error shall be raised.&#10;The productSourceId field of the supplied StreamProductRequestDetails structure shall match Product Source object instance identifier in the COM Archive; otherwise an INVALID_PRODUCT_SOURCE error shall be raised.&#10;The productFormatId field of the supplied StreamProductRequestDetails structure shall match Product Format object instance identifier in the COM Archive; otherwise an INVALID_PRODUCT_FORMAT error shall be raised.&#10;If for the selected Product Type, Product Source and Product Format the corresponding ProductCatalogueEntryDetails does not support the stream mode, a PRODUCT_NOT_SUPPORTED_IN_STREAM error shall be returned." name="request">
								<mal:type area="distribution" list="false" name="StreamProductRequestDetails"/>
							</mal:field>
						</mal:request>
						<mal:response comment="">
							<mal:field canBeNull="true" comment="The streamId field in the acknowledge message shall contain the object instance identifier of the created product stream." name="streamId">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:field>
						</mal:response>
					</mal:messages>
					<mal:errors>
						<mal:errorRef comment="The selected product type does not exist.">
							<mal:type area="distribution" list="false" name="INVALID_PRODUCT_TYPE"/>
						</mal:errorRef>
						<mal:errorRef comment="The format is not supported for the specified combination of the product type and source.">
							<mal:type area="distribution" list="false" name="INVALID_PRODUCT_FORMAT"/>
						</mal:errorRef>						
						<mal:errorRef comment="The product source is not valid for the specified product type.">
							<mal:type area="distribution" list="false" name="INVALID_PRODUCT_SOURCE"/>
						</mal:errorRef>
						<mal:errorRef comment="The product is not supported in the stream mode for the specified combination of a product type, a format and a source.">
							<mal:type area="distribution" list="false" name="PRODUCT_NOT_SUPPORTED_IN_STREAM"/>
							<mal:extraInformation comment="The ExtraInfo fiels contains the instance identifier of the ProductCatalogueEntryDetails which provide available provision modes for the combination of the product type, source and format.">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:extraInformation>
						</mal:errorRef>						
						<mal:errorRef comment="a) One or more filter attributes are invalid. The attribute may not have been defined for the product, the specified comparison operation is not allowed or the attribute value does not match the product type or format.">
							<mal:type area="distribution" list="false" name="INVALID_PRODUCT_ATTRIBUTE"/>
							<mal:extraInformation comment="The ExtraInfo fiels contains the first invalid attribute.">
								<mal:type area="MAL" list="false" name="Attribute"/>
							</mal:extraInformation>
						</mal:errorRef>						
						<mal:errorRef comment="The encryption algorithm for a selected product is invalid or not supported by the implementation.">
							<mal:type area="distribution" list="false" name="ENCRYPTION_ALGORITHM_NOT_SUPPORTED"/>
						</mal:errorRef>
						<mal:errorRef comment="The compression format for a selected product is invalid or not supported by the implementation.">
							<mal:type area="distribution" list="false" name="COMPRESSION_FORMAT_NOT_SUPPORTED"/>
						</mal:errorRef>
						<mal:errorRef comment="An unknown error has occurred.">
							<mal:type area="MAL" list="false" name="UNKNOWN"/>
						</mal:errorRef>									
					</mal:errors>
				</mal:requestIP>
				<mal:submitIP comment="The disableStreaming operation closes the product stream." name="disableStreaming" number="14" supportInReplay="false">
					<mal:messages>
						<mal:submit comment="">
							<mal:field canBeNull="true" comment="The streamId field shall contain the object instance identifier of the stream.&#10;If requestId does not exist, an INVALID_STREAM_ID error shall be returned.&#10;If the requestId field equals 0, all streams of the current user are canceled." name="streamId">
								<mal:type area="MAL" list="false" name="Long"/>
							</mal:field>
						</mal:submit>
					</mal:messages>
					<mal:errors>
						<mal:errorRef comment="The stream object instance identifier does not exist.">
							<mal:type area="distribution" list="false" name="INVALID_STREAM_ID"/>
						</mal:errorRef>
						<mal:errorRef comment="An unknown error has occurred.">
							<mal:type area="MAL" list="false" name="UNKNOWN"/>
						</mal:errorRef>						
					</mal:errors>
				</mal:submitIP>
			</mal:capabilitySet>
			<mal:dataTypes>
			</mal:dataTypes>
			<com:features>
				<com:objects comment="A ProductType COM object represents a type of mission data product. A ProductType COM object body shall hold a name, a description and a list of product attributes.&#10;A ProductSource COM object represents a source of mission data product. A ProductSource COM object body shall hold an URI address of a source.&#10;The ProductSource COM object related link shall indicate which ProductType object it uses.&#10;A ProductFormat COM object represents a format of mission data product. The ProductFormat COM object shall hold a name and a description of the format. Following formats shall have preassigned given object instance identifiers:&#10;a) Fixed value binary with identifier 1&#10;b) Variable length binary with identifier 2&#10;c) Split binary with identifier 3&#10;d) XML with identifier 4&#10;e) JSON with identifier 5&#10;f) ASCII with identifier 6&#10;g) PDF with identifier 7&#10;h) CSV with identifier 8&#10;i) TIFF with identifier 9&#10;j) JPEG with identifier 10&#10;k) MPEG with identifier 11&#10;l) AVI with identifier 12&#10;A ProductProvisioningDetailsInstance COM object represents detailed parameters of mission data product. The ProductProvisioningDetailsInstance COM object body shall contain the ProductProvisioningDetails structure, which holds the format, provision mode, compression and encryption algorithms applicable to mission data product.&#10;The ProductProvisioningDetailsInstance COM object related link shall indicate which ProductTypeDetails object it uses. The ProductCatalogueEntryDetails COM object represents a description of the Product. &#10;A ProductCatalogueEntry COM object body shall contain the ProductCatalogueDetailsEntry structure, which holds a product type, attributes, available sources, formats and provisioning modes.&#10;A ProductSpecification COM object represents a specification of mission data product. A ProductSpecification COM object body shall hold a File object.&#10;The ProductSpecification COM object related link shall indicate which ProductType object it uses.&#10;A ProductAttribute COM object represents a product attribute, A ProductAttribute COM object body shall hold a ProductAttributeDetails structure, which contains a name, a type and two Boolean values, which specify whether a product can be sorted or filtered.&#10;The ProductAttribute COM object related link shall indicate which ProductType object it uses.&#10;A StreamingProductRequest COM object represents the body of the stream product request. A StreamingProductRequest COM object body shall hold StreamingProductRequestDetails structure.">
					<com:object comment="The structure, which holds the type of the mission data product, shall be represented as the ProductTypeDetails COM object." name="ProductType" number="1">
						<com:objectType>
							<mal:type area="distribution" list="false" name="ProductTypeDetails"/>
						</com:objectType>
						<com:relatedObject comment=""/>
						<com:sourceObject comment=""/>
					</com:object>					
					<com:object comment="The structure, which holds the source of the mission data product, shall be represented as the ProductSource COM object." name="ProductSource" number="2">
						<com:objectType>
							<mal:type area="MAL" list="false" name="URI"/>
						</com:objectType>
						<com:relatedObject comment="The related link shall indicate the product type for which details are provided.">
							<com:objectType area="distribution" number="1" service="ProductsManagement"/>
						</com:relatedObject>
						<com:sourceObject comment=""/>
					</com:object>
					<com:object comment="A ProductFormat COM object represents a format of mission data product.&#10;Following formats shall have preassigned given object instance identifiers:&#10;a. Fixed value binary with identifier 1&#10;b. Variable lenght binary with identifier 2&#10;c. Split binary with identifier 3&#10;d. XML with identifier 4&#10;e. JSON with identifier 5&#10;f. ASCII with identifier 6&#10;g. PDF with identifier 7&#10;h. CSV with identifier 8&#10;i.  TIFF with identifier 9&#10;j. JPEG with identifier 10&#10;k. MPEG with identifier 11&#10;l. AVI with identifier 12" name="ProductFormat" number="3">
						<com:objectType>
							<mal:type area="distribution" list="false" name="ProductFormatDetails"/>
						</com:objectType>
						<com:relatedObject comment=""/>
						<com:sourceObject comment=""/>
					</com:object>
					<com:object comment="The structure, which holds the format, provision mode, compression and encryption algorithms applicable to mission data product, shall be represented as the ProductProvisioningDetails COM object." name="ProductProvisioningDetailsInstance" number="4">
						<com:objectType>
							<mal:type area="distribution" list="false" name="ProductProvisioningDetails"/>
						</com:objectType>
						<com:relatedObject comment="The related link shall indicate the product type for which the source is provided.">
							<com:objectType area="distribution" number="1" service="ProductsManagement"/>
						</com:relatedObject>
						<com:sourceObject comment="The source link shall indicate the product source for which the provisioning details are provided.">
							<com:objectType area="distribution" number="2" service="ProductsManagement"/>
						</com:sourceObject>
					</com:object>
					<com:object comment="The structure, which contains a description of the product, including its type, attributes, available sources, formats and provision modes, shall be represented as ProductCatalogueEntryDetails COM object." name="ProductCatalogueEntry" number="5">
						<com:objectType>
							<mal:type area="distribution" list="false" name="ProductCatalogueEntryDetails"/>
						</com:objectType>
						<com:relatedObject comment="">
						</com:relatedObject>
						<com:sourceObject comment=""/>
					</com:object>					
					<com:object comment="The specification of the product shall be represented as the ProductSpecification COM object." name="ProductSpecification" number="6">
						<com:objectType>
							<mal:type area="MAL" list="false" name="File"/>
						</com:objectType>
						<com:relatedObject comment="The related link shall indicate the product for which specification is provided.">
							<com:objectType area="distribution" number="1" service="ProductsManagement"/>
						</com:relatedObject>
						<com:sourceObject comment="">
						</com:sourceObject>
					</com:object>					
					<com:object comment="A ProductAttribute COM object represents a product attribute, A ProductAttributeDetails COM object body shall hold a ProductAttributeDetails structure, which contains a name, a type and two Boolean values, which specify whether a product can be sorted or filtered." name="ProductAttribute" number="7">
						<com:objectType>
							<mal:type area="distribution" list="false" name="ProductAttributeDetails"/>
						</com:objectType>
						<com:relatedObject comment="The ProductAttribute COM object related link shall indicate which ProductTypeDetails object it uses.">
							<com:objectType area="distribution" number="1" service="ProductsManagement"/>
						</com:relatedObject>
						<com:sourceObject comment="">
						</com:sourceObject>
					</com:object>
					<com:object comment="A StreamingProductRequest COM object represents …. A StreamingProductRequest COM object body shall hold StreamingProductRequest structure." name="StreamProductRequest" number="8">
						<com:objectType>
							<mal:type area="distribution" list="false" name="StreamProductRequestDetails"/>
						</com:objectType>
						<com:relatedObject comment=""/>
						<com:sourceObject comment=""/>
					</com:object>					
				
				</com:objects>
				<com:events comment="When a new ProductTypeDetails is added, an event shall be generated.&#10;The event body shall contain an identifier of the created type.&#10;When the ProductTypeDetails is removed, an event shall be generated.&#10;The event body shall indicate an identifier of the removed type.&#10;The related link shall indicate a list of identifiers of ProductCatalogueEntryDetails objects, which were also removed.&#10;When the ProductSource is added, an event shall be generated.&#10;The event body shall indicate an identifier of the created source.&#10;The related link shall indicate the type of the product for which the source has been created.&#10;When the ProductSource is removed, an event shall be generated.&#10;The event body shall indicate an identifier of the removed source.&#10;The related link shall indicate a list of identifiers of ProductCatalogueEntryDetails objects, which were also removed.&#10;When the ProductFormatDetails is added, an event shall be generated.&#10;The source link shall indicate an identifier of the created format.&#10;When the ProductFormatDetails is removed, an event shall be generated.&#10;The source link shall indicate an identifier of the removed source.&#10;The related link shall indicate a list of identifiers of ProductCatalogueEnty objects, which were also removed.&#10;When the ProductProvisioningDetails is added, an event shall be generated.&#10;The event body shall indicate an identifier of the created detail.&#10;The related link shall indicate the type of the product for which the detail has been created.&#10;The source link shall indicate an identifier of the newly created ProductCatalogueEntryDetails.&#10;When the ProductProvisioningDetails is removed, an event shall be generated.&#10;The event body shall indicate an identifier of the removed detail.&#10;The related link shall indicate a list of identifiers of ProductCatalogueEntryDetails objects, which were also removed.&#10;When the ProductSpecification is added, an event shall be generated.&#10;The event body shall indicate an identifier of the created specification.&#10;The related link shall indicate the identifier of the ProductTypeDetails for which the specification has been added.&#10;When the ProductSpecification is removed, an event shall be generated.&#10;The event body shall indicate an identifier of the removed specification.&#10;The related link shall indicate the identifier of the ProductTypeDetails for which the specification is removed.&#10;When the ProductAttributeDetails is added, an event shall be generated.&#10;The event body shall indicate the identifier of the ProductTypeDetails for which the attribute has been added.&#10;When the ProductAttributeDetails is removed, an event shall be generated.&#10;The event body shall indicate the identifier of the ProductTypeDetails for which the attribute is removed.">				
					<com:event comment="When a new ProductTypeDetails is added, an event ProductTypeCreated shall be generated.&#10;The body of the event shall contain the object instance identifier of the created type." name="ProductTypeCreated" number="101">
						<com:objectType>
							<mal:type area="MAL" list="false" name="Long"/>
						</com:objectType>
						<com:relatedObject comment="">
						</com:relatedObject>
						<com:sourceObject comment=""/>
					</com:event>
					<com:event comment="When the ProductTypeDetails is removed, an event ProductTypeRemoved shall be generated. &#10;The body of the event shall indicate the object instance identifier of the removed type." name="ProductTypeRemoved" number="102">
						<com:objectType>
							<mal:type area="MAL" list="false" name="Long"/>
						</com:objectType>
						<com:relatedObject comment="The related link shall indicate the identifier of ProductCatalogueEntryDetails object, which was also removed. &#10;If multiple ProductCatalogueEntryDetails objects were affected, multiple events shall be generated, where each contains the different ProductCatalogueEntryDetails object instance identifier.">
							<com:objectType area="distribution" number="5" service="ProductsManagement"/>
						</com:relatedObject>
						<com:sourceObject comment=""/>
					</com:event>
					<com:event comment="When the ProductSource is added, an event ProductSourceCreated shall be generated.&#10;The  body of the event shall indicate the object instance identifier of the created source." name="ProductSourceCreated" number="103">
						<com:objectType>
							<mal:type area="MAL" list="false" name="Long"/>
						</com:objectType>
						<com:relatedObject comment="The related link shall indicate the object instance identifier of the ProductTypeDetails for which the source was added.">
							<com:objectType area="distribution" number="1" service="ProductsManagement"/>
						</com:relatedObject>
						<com:sourceObject comment=""/>
					</com:event>
					<com:event comment="When the ProductSource is removed, an ProductSourceRemoved event shall be generated. &#10;The body of the event indicate an identifier of the removed source." name="ProductSourceRemoved" number="104">
						<com:objectType>
							<mal:type area="MAL" list="false" name="Long"/>
						</com:objectType>
						<com:relatedObject comment="The related link shall indicate the identifier of ProductCatalogueEnty object, which was also removed.&#10;If multiple ProductCatalogueEntryDetails objects were affected, multiple events shall be generated, where each contains the different ProductCatalogueEntryDetails object instance identifier.">
							<com:objectType area="distribution" number="5" service="ProductsManagement"/>
						</com:relatedObject>
						<com:sourceObject comment=""/>
					</com:event>	
					<com:event comment="When the ProductFormatDetails is added, an event ProductFormatCreated shall be generated.&#10;The  body of the event shall indicate the object instance identifier of the created format." name="ProductFormatCreated" number="105">
						<com:objectType>
							<mal:type area="MAL" list="false" name="Long"/>
						</com:objectType>
						<com:relatedObject comment="">
						</com:relatedObject>
						<com:sourceObject comment=""/>
					</com:event>
					<com:event comment="When the ProductFormatDetails is removed, an ProductFormatRemoved event shall be generated. &#10;The body of the event indicate an identifier of the removed format." name="ProductFormatRemoved" number="106">
						<com:objectType>
							<mal:type area="MAL" list="false" name="Long"/>
						</com:objectType>
						<com:relatedObject comment="">
						</com:relatedObject>
						<com:sourceObject comment=""/>
					</com:event>	
					<com:event comment="When the ProductProvisioningDetails is added, an event ProductDetailCreated shall be generated.&#10;The body of the event shall indicate the object instance identifier of the created detail." name="ProductDetailCreated" number="107">
						<com:objectType>
							<mal:type area="MAL" list="false" name="Long"/>
						</com:objectType>
						<com:relatedObject comment="The related link shall indicate the object instance identifier of the created ProductTypeDetails.">
							<com:objectType area="distribution" number="1" service="ProductsManagement"/>
						</com:relatedObject>
						<com:sourceObject comment="The source link shall indicate the object instance identifier of the created ProductCatalogueEntryDetails.">
							<com:objectType area="distribution" number="5" service="ProductsManagement"/>
						</com:sourceObject>
					</com:event>
					<com:event comment="When the ProductProvisioningDetails is removed, an event ProductDetailRemoved shall be generated. &#10;The body of the event shall indicate the object instance identifier of the removed detail." name="ProductDetailRemoved" number="108">
						<com:objectType>
							<mal:type area="MAL" list="false" name="Long"/>
						</com:objectType>
						<com:relatedObject comment="The related link shall indicate the identifier of ProductCatalogueEnty object, which was also removed.">
							<com:objectType area="distribution" number="5" service="ProductsManagement"/>
						</com:relatedObject>
						<com:sourceObject comment=""/>
					</com:event>				
					<com:event comment="When the ProductSpecification is set, an event ProductSpecificationCreated shall be generated. &#10;The body of the event shall indicate the object instance identifier of the created specification." name="ProductSpecificationCreated" number="109">
						<com:objectType>
							<mal:type area="MAL" list="false" name="Long"/>
						</com:objectType>
						<com:relatedObject comment="The related link shall indicate the identifier of the ProductTypeDetails for which the specification has been added.">
							<com:objectType area="distribution" number="1" service="ProductsManagement"/>
						</com:relatedObject>
						<com:sourceObject comment=""/>
					</com:event>
					<com:event comment="When the ProductSpecification is removed, an event ProductSpecificationRemoved shall be generated. &#10;The body of the event shall indicate the object instance identifier of the removed specification." name="ProductSpecificationRemoved" number="110">
						<com:objectType>
							<mal:type area="MAL" list="false" name="Long"/>
						</com:objectType>
						<com:relatedObject comment="The related link shall indicate the identifier of the ProductTypeDetails for which the specification is removed.">
							<com:objectType area="distribution" number="1" service="ProductsManagement"/>
						</com:relatedObject>
						<com:sourceObject comment=""/>
					</com:event>
					<com:event comment="When the ProductAttributeDetails is added, an event ProductAttributeCreated shall be generated. &#10;The body of the event shall indicate the object instance identifier of the created attribute." name="ProductAttributeCreated" number="111">
						<com:objectType>
							<mal:type area="MAL" list="false" name="Long"/>
						</com:objectType>
						<com:relatedObject comment="The related link shall indicate the identifier of the ProductTypeDetails for which the attribute has been added.">
							<com:objectType area="distribution" number="1" service="ProductsManagement"/>
						</com:relatedObject>
						<com:sourceObject comment=""/>
					</com:event>
					<com:event comment="When the ProductAttributeDetails is removed, an event ProductAttributeRemoved shall be generated. &#10;The body of the event shall indicate the object instance identifier of the removed attribute." name="ProductAttributeRemoved" number="112">
						<com:objectType>
							<mal:type area="MAL" list="false" name="Long"/>
						</com:objectType>
						<com:relatedObject comment="The related link shall indicate the identifier of the ProductTypeDetails for which the attribute is removed.">
							<com:objectType area="distribution" number="1" service="ProductsManagement"/>
						</com:relatedObject>
						<com:sourceObject comment=""/>
					</com:event>
					<com:event comment="When the StreamProductRequest is issued, an event ProuctStreamCreated shall be generated. &#10;The body of the event shall indicate the object instance identifier of the StreamProductRequest." name="ProductStreamCreated" number="113">
						<com:objectType>
							<mal:type area="MAL" list="false" name="Long"/>
						</com:objectType>
						<com:relatedObject comment="">
						</com:relatedObject>
						<com:sourceObject comment=""/>
					</com:event>
					<com:event comment="When the StreamProductRequest is closed, an event ProuctStreamClosed shall be generated. &#10;The body of the event shall indicate the object instance identifier of the StreamProductRequest." name="ProductStreamClosed" number="114">
						<com:objectType>
							<mal:type area="MAL" list="false" name="Long"/>
						</com:objectType>
						<com:relatedObject comment="">
						</com:relatedObject>
						<com:sourceObject comment=""/>
					</com:event>
				</com:events>				
				<com:archiveUsage comment="When a new ProductTypeDetails is created with the addProductType operation, the ProductType object shall be stored in the COM archive.&#10;When the ProductTypeDetails is removed with the removeProductType operation, the corresponding COM object shall be removed from the COM archive.&#10;When a new ProductSource is created with the addProductSource operation, the ProductSource COM object shall be stored in the COM archive.&#10;When the ProductSource is removed with the removeProductSource operation, the corresponding COM object shall be removed from the COM archive.&#10;When a new ProductFormatDetails is created with the addProductFormat operation, the ProductFormat object shall be stored in the COM archive.&#10;When the ProductFormatDetails is removed with the removeProductFormat operation, the corresponding COM object shall be removed from the COM archive.&#10;When a new ProductProvisioningDetails is created with the addProductDetail operation, the ProductProvisioningDetailsInstance object shall be stored in the COM archive.&#10;For each unique combination of the ProductTypeDetails, the ProductSource and the ProductProvisioningDetails, a new ProductCatalogueEntry shall be stored in the COM Archive. To get objects referenced by identifier fields of the ProductCatalogueEntry, COM Archive shall be used.&#10;When a new ProductSpecification is created with the setProductSpecification operation, the ProductFormat object shall be stored in the COM archive.&#10;When the ProductFormatDetails is removed with the removeProductType operation, the corresponding COM object shall be removed from the COM archive.&#10;When the ProductType is removed, the corresponding ProductCatalogueEntry, ProductSource and ProductProvisioningDetailsInstance are removed as well.&#10;When the ProductSource is removed, the corresponding ProductCatalogueEntry and ProductProvisioningDetailsInstance are removed as well.&#10;When the ProductProvisioningDetailsInstance is removed, the corresponding ProductCatalogueEntry is removed.&#10;When a new ProductAttributeDetails is created with the addProductAttribute operation, the ProductAttribute object shall be stored in the COM archive.&#10;When the ProductAttributeDetails is removed with the removeProductAttribute operation, the corresponding COM object shall be removed from the COM archive.&#10;When a new stream is created with the enableStreaming operation, the StreamProductRequest object shall be stored in the COM archive."/>				
			</com:features>
		</mal:service>		
		<mal:dataTypes>
			<mal:enumeration comment="The ProvisionMode enumeration holds the set of methods of the data retrieval." name="ProvisionMode" shortFormPart="101">
				<mal:item comment="The batch mode." nvalue="1" value="BATCH"/>
				<mal:item comment="The stream mode." nvalue="2" value="STREAM"/>
			</mal:enumeration>
			<mal:enumeration comment="The StateEnum is an enumeration holding the states of the request processing." name="StateEnum" shortFormPart="102">				
				<mal:item comment="The request has been approved and is waiting to be processed." nvalue="1" value="QUEUED"/>
				<mal:item comment="The request has been scheduled for the execution within the specified time." nvalue="2" value="SCHEDULED"/>
				<mal:item comment="The request is being processed." nvalue="3" value="IN_PROGRESS"/>
				<mal:item comment="The request processing is suspended." nvalue="4" value="SUSPENDED"/>				
				<mal:item comment="The request has been cancelled." nvalue="5" value="CANCELED"/>
				<mal:item comment="The request has been successfully completed." nvalue="6" value="COMPLETED"/>				
				<mal:item comment="The request has failed with an error." nvalue="7" value="ERROR"/>
			</mal:enumeration>
			<mal:enumeration comment="The CompressionAlgorithmEnum enumeration holds the supported compression algorithms which may be applied to the requested product. Numerical values assigned to algorithms shall be used in product requests. For support of additional algorithms, their names and assigned numerical values shall be communicated through an out-of-band agreement." name="CompressionAlgorithmEnum" shortFormPart="103">
				<mal:item comment="The compression is disabled." nvalue="1" value="NONE"/>
				<mal:item comment="The TAR compression format." nvalue="2" value="TAR"/>
				<mal:item comment="The ZIP compression format." nvalue="3" value="ZIP"/>
				<mal:item comment="The GZIP compression format." nvalue="4" value="TAR_GZIP"/>				
			</mal:enumeration>
			<mal:enumeration comment="The EncryptionFormatEnum enumeration holds the data encryption algorithms which may be applied to the requested Product. Numerical values assigned to formats shall be used in product requests. For support of additional formats, their names and assigned numerical values shall be communicated through an out-of-band agreement." name="EncryptionFormatEnum" shortFormPart="104">
				<mal:item comment="The encryption is disabled." nvalue="1" value="NONE"/>
				<mal:item comment="The AES encryption algorithm." nvalue="2" value="AES"/>				
				<mal:item comment="The TwoFish encryption algorithm." nvalue="3" value="TWOFISH"/>
				<mal:item comment="The DES encryption algorithm." nvalue="4" value="DES"/>
			</mal:enumeration>
			<mal:enumeration comment="The MalTypesEnum enumerates basic MAL types." name="MalTypesEnum" shortFormPart="105">
				<mal:item comment="MAL::Blob" nvalue="1" value="BLOB"/>
				<mal:item comment="MAL::Boolean" nvalue="2" value="BOOLEAN"/>
				<mal:item comment="MAL::Duration" nvalue="3" value="DURATION"/>
				<mal:item comment="MAL::Float" nvalue="4" value="FLOAT"/>
				<mal:item comment="MAL::Double" nvalue="5" value="DOUBLE"/>
				<mal:item comment="MAL::Identifier" nvalue="6" value="IDENTIFIER"/>
				<mal:item comment="MAL::Octet" nvalue="7" value="OCTET"/>
				<mal:item comment="MAL::UOctet" nvalue="8" value="UOCTET"/>
				<mal:item comment="MAL::Short" nvalue="9" value="SHORT"/>
				<mal:item comment="MAL::UShort" nvalue="10" value="USHORT"/>
				<mal:item comment="MAL::Integer" nvalue="11" value="INTEGER"/>
				<mal:item comment="MAL::UInteger" nvalue="12" value="UINTEGER"/>
				<mal:item comment="MAL::Long" nvalue="13" value="LONG"/>
				<mal:item comment="MAL::ULong" nvalue="14" value="ULONG"/>
				<mal:item comment="MAL::String" nvalue="15" value="STRING"/>
				<mal:item comment="MAL::Time" nvalue="16" value="TIME"/>
				<mal:item comment="MAL::FineTime" nvalue="17" value="FINETIME"/>
				<mal:item comment="MAL::URI" nvalue="18" value="URI"/>
			</mal:enumeration>
			<mal:composite comment="The ProductTypeDetails structure contains the Product Type and a short description. It can additionally hold a list of product attributes used to filter or sort a product." name="ProductTypeDetails" shortFormPart="1">
				<mal:extends>
					<mal:type area="MAL" list="false" name="Composite"/>
				</mal:extends>
				<mal:field canBeNull="false" comment="The unique name of the type of the mission data product." name="name">
					<mal:type area="MAL" list="false" name="Identifier"/>
				</mal:field>
				<mal:field canBeNull="true" comment="The short description of the mission data product." name="description">
					<mal:type area="MAL" list="false" name="String"/>
				</mal:field>
				<mal:field canBeNull="true" comment="The list of object instance identifiers of product attributes." name="productAttributesIds">
					<mal:type area="MAL" list="true" name="Long"/>
				</mal:field>
			</mal:composite>
			<mal:composite comment="The ProductFormatDetails structure keeps the format in which any product can occur. It contains a name of the format and its description." name="ProductFormatDetails" shortFormPart="2">
				<mal:extends>
					<mal:type area="MAL" list="false" name="Composite"/>
				</mal:extends>
				<mal:field canBeNull="false" comment="The unique name of the format of the mission data product." name="name">
					<mal:type area="MAL" list="false" name="Identifier"/>
				</mal:field>
				<mal:field canBeNull="true" comment="The short description of the mission data product format." name="description">
					<mal:type area="MAL" list="false" name="String"/>
				</mal:field>
			</mal:composite>
			<mal:composite comment="The ProductProvisioningDetails structure keeps a group of parameters of the related product. It contains a list of formats, a provision mode, a list of compression methods, and a list of encryption methods applicable for the product request." name="ProductProvisioningDetails" shortFormPart="3">
				<mal:extends>
					<mal:type area="MAL" list="false" name="Composite"/>
				</mal:extends>
				<mal:field canBeNull="true" comment="The list of formats in which the product can be obtained." name="productFormats">
					<mal:type area="MAL" list="true" name="Long"/>
				</mal:field>
				<mal:field canBeNull="false" comment="The availability of the product data in the batch mode and in the stream mode." name="provisionMode">
					<mal:type area="distribution" list="false" name="ProvisionMode"/>
				</mal:field>
				<mal:field canBeNull="true" comment="The list containing all supported compression formats applicable to the product." name="compression">
					<mal:type area="MAL" list="true" name="UInteger"/>
				</mal:field>
				<mal:field canBeNull="true" comment="The list containing all supported encryption formats applicable to the product." name="encryption">
					<mal:type area="MAL" list="true" name="UInteger"/>
				</mal:field>
			</mal:composite>
			<mal:composite comment="The ProductAttributeDetails structure contains a single product attribute. It stores a name of the attribute, a type of data, and possibility to filter or sort by the attribute. The product attribute is one of the product specification fields and is used to indicate that this particular field can be used in product requests for filtering or sorting purposes." name="ProductAttributeDetails" shortFormPart="4">
				<mal:extends>
					<mal:type area="MAL" list="false" name="Composite"/>
				</mal:extends>
				<mal:field canBeNull="false" comment="The name of an attribute." name="name">
					<mal:type area="MAL" list="false" name="Identifier"/>
				</mal:field>
				<mal:field canBeNull="false" comment="The type of an attribute." name="type">
					<mal:type area="distribution" list="false" name="MalTypesEnum"/>
				</mal:field>
				<mal:field canBeNull="false" comment="The availability to filter by the attribute." name="filterApplicable">
					<mal:type area="MAL" list="false" name="Boolean"/>
				</mal:field>
				<mal:field canBeNull="false" comment="The availability to sort by the attribute." name="sortApplicable">
					<mal:type area="MAL" list="false" name="Boolean"/>
				</mal:field>
			</mal:composite>
			<mal:composite comment="The ProductCatalogueEntryDetails defines an available product in terms of a type, a source, a format and additional details. The structure is used to store object instance identifiers of the ProductTypeDetails, the ProductSource and the ProductProvisioningDetails. To retrieve referenced objects, the COM Archive shall be used." name="ProductCatalogueEntryDetails" shortFormPart="5">
				<mal:extends>
					<mal:type area="MAL" list="false" name="Composite"/>
				</mal:extends>				
				<mal:field canBeNull="false" comment="The object instance identifier of the ProductType." name="productTypeId">
					<mal:type area="MAL" list="false" name="Long"/>
				</mal:field>
				<mal:field canBeNull="false" comment="The object instance identifier of the ProductSource." name="productSourceId">
					<mal:type area="MAL" list="false" name="Long"/>
				</mal:field>
				<mal:field canBeNull="false" comment="The object instance identifier of the ProductProvisioningDetailsInstance." name="productProvisioningDetailId">
					<mal:type area="MAL" list="false" name="Long"/>
				</mal:field>
			</mal:composite>
			<mal:composite comment="The TimeRange structure represents a period from the start time to the end time, inclusive." name="TimeRange" shortFormPart="6">
				<mal:extends>
					<mal:type area="MAL" list="false" name="Composite"/>
				</mal:extends>
				<mal:field canBeNull="true" comment="The timestamp in picoseconds which represents a point in the time in the UTC time zone from which the data matching the condition will be sent." name="startTime">
					<mal:type area="MAL" list="false" name="FineTime"/>
				</mal:field>
				<mal:field canBeNull="true" comment="The timestamp in picoseconds which represents a point in the time in the UTC time zone until which the data matching the condition will be sent." name="endTime">
					<mal:type area="MAL" list="false" name="FineTime"/>
				</mal:field>
			</mal:composite>			
			<mal:composite comment="The Schedule structure is used to set up parameters to schedule an execution of a request." name="Schedule" shortFormPart="7">
				<mal:extends>
					<mal:type area="MAL" list="false" name="Composite"/>
				</mal:extends>
				<mal:field canBeNull="false" comment="The point in the time in the UTC time zone when a transmission shall be started." name="startTime">
					<mal:type area="MAL" list="false" name="Time"/>
				</mal:field>
				<mal:field canBeNull="true" comment="The flag, which determines whether data shall be retransmitted periodically, with given interval." name="repeatable">
					<mal:type area="MAL" list="false" name="Boolean"/>
				</mal:field>
				<mal:field canBeNull="true" comment="The interval between sub-requests." name="interval">
					<mal:type area="MAL" list="false" name="Duration"/>
				</mal:field>
				<mal:field canBeNull="true" comment="The point in time in the UTC time zone when the request becomes expired." name="expiryDate">
					<mal:type area="MAL" list="false" name="Time"/>
				</mal:field>
			</mal:composite>
			<mal:composite comment="The BatchProductRequestDetails contains details of a product request. It specifies criteria, which product to retrieve must meet. The structure is used both in batch and stream requests." name="BatchProductRequestDetails" shortFormPart="8">
				<mal:extends>
					<mal:type area="MAL" list="false" name="Composite"/>
				</mal:extends>				
				<mal:field canBeNull="false" comment="The object instance identifier of the ProductType." name="productTypeId">
					<mal:type area="MAL" list="false" name="Long"/>
				</mal:field>
				<mal:field canBeNull="false" comment="The object instance identifier of the ProductSource." name="productSourceId">
					<mal:type area="MAL" list="false" name="Long"/>
				</mal:field>
				<mal:field canBeNull="false" comment="The object instance identifier of the ProductFormat." name="productFormatId">
					<mal:type area="MAL" list="false" name="Long"/>
				</mal:field>
				<mal:field canBeNull="true" comment="The structure indicating a local or remote destination of the product delivery. The structure contains an address of the product delivery, an optional security token and attributes of the transport protocol." name="destination">
					<mal:type area="distribution" list="false" name="DestinationDeliveryDetails"/>
				</mal:field>
				<mal:field canBeNull="true" comment="The period of the time, from which the mission data product is requested." name="timeRange">
					<mal:type area="distribution" list="false" name="TimeRange"/>
				</mal:field>
				<mal:field canBeNull="true" comment="The filter conditions that the product to retrieve must meet. The response data may be filtered only on attributes defined in the list of ProductAttributes. If NULL, all the data available in the selected time range are returned." name="filter">
					<mal:type area="COM" list="false" name="CompositeFilterSet" service="Archive"/>
				</mal:field>
				<mal:field canBeNull="true" comment="The structure, which defines the schedule of the request." name="schedule">
					<mal:type area="distribution" list="false" name="Schedule"/>
				</mal:field>	
				<mal:field canBeNull="true" comment="The encryption algorithm to be applied to response data." name="encryption">
					<mal:type area="MAL" list="false" name="UInteger"/>
				</mal:field>
				<mal:field canBeNull="true" comment="The compression algorithm to be applied to response data." name="compression">
					<mal:type area="MAL" list="false" name="UInteger"/>
				</mal:field>
				<mal:field canBeNull="true" comment="The name of the field to use to sort the response. Must comply with the name defined in a list of ProductAttributes. If true, the response is sorted in the ascending order, otherwise - in descending one." name="sortField">
					<mal:type area="MAL" list="false" name="String"/>
				</mal:field>
				<mal:field canBeNull="true" comment="The maximum size of the response message. If the response message exceeds the specified value, data is split into chunks." name="chunkSize">
					<mal:type area="MAL" list="false" name="Long"/>
				</mal:field>
			</mal:composite>
			<mal:composite comment="The DestinationDeliveryDetails strucure is used to provide details needed for the local or remote product delivery. The structure contains an address of the product delivery, an optional security token and attributes of the transport protocol." name="DestinationDeliveryDetails" shortFormPart="9">
				<mal:extends>
					<mal:type area="MAL" list="false" name="Composite"/>
				</mal:extends>
				<mal:field canBeNull="false" comment="The fully-qualified address in the form of the URI (RFC 3986). It specifies where to deliver requested mission data product. The address shall indicate the protocol used for sending the data and the identifier of the host where the data shall be delivered. If the host identifier contains reserved word 'localhost', then the response shall be stored locally by the MDPDS. The name used for storing the response is optional. If provided, it may be a literal or templated string. The template contains special identifiers, enclosed in brackets, that are automatically replaced by the provider according to the following pattern (the case size does not matter): [P] -  the product type; [S] - the product source; [F] - the product format; [D] - the UTC date of the response delivery ; [nP] - the part number of n digits width, padded with leading zeros, [C] - the compression format, [E] - the encrytpion format. If the name is not provided, then the provider generates it automatically using the following pattern:  [T]_[S]_[D].[F].[C].[E].[P] which will be expanded to: type_source_date.format.compression.encryption.partN. " name="uri">
					<mal:type area="MAL" list="false" name="URI"/>
				</mal:field>
				<mal:field canBeNull="true" comment="The securityToken isused to provide details needed for authentication to the remote destination." name="securityToken">
					<mal:type area="MAL" list="false" name="Blob"/>
				</mal:field>
				<mal:field canBeNull="true" comment="The protocolAttributes is an abstract structure, which may contain any additional attributes required by the protocol or remote destination to handle the data transfer." name="protocolAttributes">
					<mal:type area="distribution" list="false" name="ProtocolAttributeDetails"/>
				</mal:field>
			</mal:composite>
			<mal:composite comment="The ProtocolAttributeDetails is an abstract structure, which may contain any additional attributes required by the protocol or remote destination to handle the data transfer." name="ProtocolAttributeDetails" shortFormPart="10">
				<mal:extends>
					<mal:type area="MAL" list="false" name="Composite"/>
				</mal:extends>
			</mal:composite>
			<mal:composite comment="The RemoteResponse structure is used to provide a location, a size and a delivery date of the product response. Only when the destination field of the product request is specified, then the structure is sent in an update message of the requestProduct operation." name="RemoteResponse" shortFormPart="11">
				<mal:extends>
					<mal:type area="MAL" list="false" name="Composite"/>
				</mal:extends>
				<mal:field canBeNull="false" comment="The responseLink field shall contain the fully-qualified address of the file saved in the destination specified in the request. The address is a direct link used for downloading the response file. The format of the address is in the form of the URI (RFC 3986)." name="responseLink">
					<mal:type area="MAL" list="false" name="URI"/>
				</mal:field>
				<mal:field canBeNull="false" comment="The responseSize field shall contain the size in bytes of the product response." name="responseSize">
					<mal:type area="MAL" list="false" name="Long"/>
				</mal:field>
				<mal:field canBeNull="false" comment="The deliveryDate field shall contain the date of the delivery of the response. The date is specified in CCSDS format relevant to the UTC time zone." name="deliveryDate">
					<mal:type area="MAL" list="false" name="Time"/>
				</mal:field>
			</mal:composite>
			<mal:composite comment="The StreamProductRequestDetails contains details of a stream product request. It specifies criteria, which product to retrieve must meet. The structure is used both in batch and stream requests." name="StreamProductRequestDetails" shortFormPart="12">
				<mal:extends>
					<mal:type area="MAL" list="false" name="Composite"/>
				</mal:extends>				
				<mal:field canBeNull="false" comment="The object instance identifier of the ProductType." name="productTypeId">
					<mal:type area="MAL" list="false" name="Long"/>
				</mal:field>
				<mal:field canBeNull="false" comment="The object instance identifier of the ProductSource." name="productSourceId">
					<mal:type area="MAL" list="false" name="Long"/>
				</mal:field>
				<mal:field canBeNull="true" comment="The object instance identifier of the ProductFormat." name="productFormatId">
					<mal:type area="MAL" list="false" name="Long"/>
				</mal:field>
				<mal:field canBeNull="true" comment="The filter conditions that the product to retrieve must meet. The response data may be filtered only on attributes defined in the list of ProductAttributes." name="filter">
					<mal:type area="COM" list="false" name="CompositeFilterSet" service="Archive"/>
				</mal:field>	
				<mal:field canBeNull="true" comment="The encryption algorithm to be applied to response data." name="encryption">
					<mal:type area="MAL" list="false" name="UInteger"/>
				</mal:field>
				<mal:field canBeNull="true" comment="The compression algorithm to be applied to response data." name="compression">
					<mal:type area="MAL" list="false" name="UInteger"/>
				</mal:field>
				<mal:field canBeNull="true" comment="The point in the time in the UTC time zone when the stream shall be automatically closed." name="expiryDate">
					<mal:type area="MAL" list="false" name="FineTime"/>
				</mal:field>
			</mal:composite>
			<mal:composite comment="The TransferReport structure contains a summary of the transmitted data." name="TransferReport" shortFormPart="13">
				<mal:extends>
					<mal:type area="MAL" list="false" name="Composite"/>
				</mal:extends>
				<mal:field canBeNull="false" comment="Object instance identifiers assigned by the system for every accepted request." name="requestsIds">
					<mal:type area="MAL" list="true" name="Long"/>
				</mal:field>
				<mal:field canBeNull="false" comment="The total number of update messages matching the request." name="messages">
					<mal:type area="MAL" list="false" name="Long"/>
				</mal:field>
				<mal:field canBeNull="false" comment="The total size in bytes of all the update messages matching the request." name="responseSize">
					<mal:type area="MAL" list="false" name="Long"/>
				</mal:field>
				<mal:field canBeNull="true" comment="The point in time in the UTC time zone when the request has started being processed." name="startTime">
					<mal:type area="MAL" list="false" name="Time"/>
				</mal:field>
				<mal:field canBeNull="true" comment="The point in time in the UTC time zone when the request has ended being processed." name="endTime">
					<mal:type area="MAL" list="false" name="Time"/>
				</mal:field>
			</mal:composite>			
			<mal:composite comment="The RequestStatus structure is used to store the current progress of the request." name="RequestStatus" shortFormPart="14">
				<mal:extends>
					<mal:type area="MAL" list="false" name="Composite"/>
				</mal:extends>
				<mal:field canBeNull="false" comment="The object instance identifier of the request." name="requestId">
					<mal:type area="MAL" list="false" name="Long"/>
				</mal:field>
				<mal:field canBeNull="false" comment="The object instance identifier of the user who issued the request. The identifier shall correspond to the Profile structure defined in the Login Service." name="userId">
					<mal:type area="MAL" list="false" name="Long"/>
				</mal:field>
				<mal:field canBeNull="false" comment="The current state of the request processing." name="state">
					<mal:type area="distribution" list="false" name="StateEnum"/>
				</mal:field>
				<mal:field canBeNull="false" comment="The progress of the request processing." name="percentage">
					<mal:type area="MAL" list="false" name="Float"/>
				</mal:field>
				<mal:field canBeNull="false" comment="The number of update messages delivered so far." name="updatesDelivered">
					<mal:type area="MAL" list="false" name="Long"/>
				</mal:field>
				<mal:field canBeNull="false" comment="The size (in bytes) of all data delivered so far." name="dataDelivered">
					<mal:type area="MAL" list="false" name="Long"/>
				</mal:field>
				<mal:field canBeNull="false" comment="The time when request was received by system." name="creationTime">
					<mal:type area="MAL" list="false" name="Time"/>
				</mal:field>
				<mal:field canBeNull="true" comment="The point in time in the UTC time zone when the request has started being processed. If it is NULL, the endTime must be NULL." name="startTime">
					<mal:type area="MAL" list="false" name="Time"/>
				</mal:field>
				<mal:field canBeNull="true" comment="The point in time in the UTC time zone when the request has ended being processed. If it is not NULL, the startTime must not be NULL." name="endTime">
					<mal:type area="MAL" list="false" name="Time"/>
				</mal:field>
				<mal:field canBeNull="true" comment="Parameters of the schedule of the request." name="schedule">
					<mal:type area="distribution" list="false" name="Schedule"/>
				</mal:field>				
			</mal:composite>
			<mal:composite comment="The ParameterValueTimePair structure is used to store an instance of the parameter value and the time of its generation." name="ParameterValueTimePair" shortFormPart="201">
				<mal:extends>
					<mal:type area="MAL" list="false" name="Composite"/>
				</mal:extends>
				<mal:field canBeNull="false" comment="A value of the parameter." name="parameterValue">
					<mal:type area="MC" list="false" name="ParameterValue" service="Parameter"/>
				</mal:field>				
				<mal:field canBeNull="false" comment="An accurate on-board time in the UTC time zone of the generation of the parameter." name="time">
					<mal:type area="MAL" list="false" name="FineTime"/>
				</mal:field>
			</mal:composite>			
			<mal:composite comment="The ParameterTimeline structure holds values of the specific parameter along with their timestamps." name="ParameterTimeline" shortFormPart="202">
				<mal:extends>
					<mal:type area="MAL" list="false" name="Composite"/>
				</mal:extends>
				<mal:field canBeNull="false" comment="A list containing values of the specific parameter along with accurate on-board times in the UTC time zone of their generation." name="timestampedParameterValues">
					<mal:type area="distribution" list="true" name="ParameterValueTimePair"/>
				</mal:field>
				<mal:field canBeNull="false" comment="A source of the parameter. It uniquely points a mission, a domain, a spacecraft and any further details describing where the parameter comes from." name="provider">
					<mal:type area="MAL" list="false" name="URI"/>
				</mal:field>
				<mal:field canBeNull="false" comment="The object instance identifier of the parameter definition." name="parameterDefinitionId">
					<mal:type area="MAL" list="false" name="Long"/>
				</mal:field>
			</mal:composite>
			<mal:composite comment="The AggregationValueTimePair structure is used to store an instance of the aggregation value and the time of its generation." name="AggregationValueTimePair" shortFormPart="203">
				<mal:extends>
					<mal:type area="MAL" list="false" name="Composite"/>
				</mal:extends>
				<mal:field canBeNull="false" comment="A value of the aggregation." name="aggregationValue">
					<mal:type area="MC" list="false" name="AggregationValue" service="Aggregation"/>
				</mal:field>				
				<mal:field canBeNull="false" comment="An accurate on-board time in the UTC time zone of the generation of the aggregation." name="time">
					<mal:type area="MAL" list="false" name="FineTime"/>
				</mal:field>
			</mal:composite>
			<mal:composite comment="The AggregationTimeline structure holds values of the specific aggregation along with their timestamps." name="AggregationTimeline" shortFormPart="204">
				<mal:extends>
					<mal:type area="MAL" list="false" name="Composite"/>
				</mal:extends>
				<mal:field canBeNull="false" comment="A list containing values of the specific aggregation along with accurate on-board times in the UTC time zone of their generation." name="timestampedAggregationValues">
					<mal:type area="distribution" list="true" name="AggregationValueTimePair"/>
				</mal:field>
				<mal:field canBeNull="false" comment="A provider of the parameter. It uniquely points a mission, a domain, a spacecraft and any further details describing where the aggregation comes from." name="provider">
					<mal:type area="MAL" list="false" name="URI"/>
				</mal:field>				
				<mal:field canBeNull="false" comment="The object instance identifier of the AggregationDefinitionDetails." name="aggregationDefinitionId">
					<mal:type area="MAL" list="false" name="Long"/>
				</mal:field>
			</mal:composite>
			<mal:composite comment="The ActionStageTimePair is used to store the execution stage of the action and its time." name="ActionStageTimePair" shortFormPart="205">
				<mal:extends>
					<mal:type area="MAL" list="false" name="Composite"/>
				</mal:extends>				
				<mal:field canBeNull="false" comment="An accurate on-board time in the UTC time zone of the action execution stage." name="stageTime">
					<mal:type area="MAL" list="false" name="FineTime"/>
				</mal:field>
				<mal:field canBeNull="false" comment="An execution status of the stage. A zero value means a success, while a non-zero value means an error." name="stageSuccess">
					<mal:type area="MAL" list="false" name="UInteger"/>
				</mal:field>
			</mal:composite>			
			<mal:composite comment="The ActionElement structure is used to report on the status of the each verification of the action instance. Therefore it contains time-stamped statuses for the particular action instance." name="ActionInstanceReport" shortFormPart="206">
				<mal:extends>
					<mal:type area="MAL" list="false" name="Composite"/>
				</mal:extends>
				<mal:field canBeNull="false" comment="Details of the specific action." name="actionInstanceDetails">
					<mal:type area="MC" list="false" name="ActionInstanceDetails" service="Action"/>
				</mal:field>				
				<mal:field canBeNull="false" comment="An ordered list of action execution stages containing the UTC times and execution statuses assigned to each stage." name="executionStages">
					<mal:type area="distribution" list="true" name="ActionStageTimePair"/>
				</mal:field>
				<mal:field canBeNull="false" comment="A source where action was genereated." name="invoker">
					<mal:type area="MAL" list="false" name="URI"/>
				</mal:field>
				<mal:field canBeNull="false" comment="A destination system to execute the action. It uniquely points a mission, a domain, a spacecraft and a system where the action is to be executed." name="destination">
					<mal:type area="MAL" list="false" name="URI"/>
				</mal:field>
				<mal:field canBeNull="false" comment="The id of the action definition." name="actionDefinitionId">
					<mal:type area="MAL" list="false" name="Long"/>
				</mal:field>
			</mal:composite>
			<mal:composite comment="The ActionsHistory structure holds a list of ActionInstanceReports." name="ActionsHistory" shortFormPart="207">
				<mal:extends>
					<mal:type area="MAL" list="false" name="Composite"/>
				</mal:extends>
				<mal:field canBeNull="false" comment="A time-tagged history of actions." name="actions">
					<mal:type area="distribution" list="true" name="ActionInstanceReport"/>
				</mal:field>
			</mal:composite>			
			<mal:composite comment="The AlertReport structure holds the alert report." name="AlertReport" shortFormPart="208">
				<mal:extends>
					<mal:type area="MAL" list="false" name="Composite"/>
				</mal:extends>
				<mal:field canBeNull="false" comment="An Alert name." name="name">
					<mal:type area="MAL" list="false" name="Identifier"/>
				</mal:field>
				<mal:field canBeNull="false" comment="An alert category." name="category">
					<mal:type area="MAL" list="false" name="String"/>
				</mal:field>
				<mal:field canBeNull="false" comment="An alert timestamp in the UTC time zone." name="time">
					<mal:type area="MAL" list="false" name="FineTime"/>
				</mal:field>
				<mal:field canBeNull="false" comment="A source where the alert was genereated." name="source">
					<mal:type area="MAL" list="false" name="URI"/>
				</mal:field>
				<mal:field canBeNull="false" comment="The AlertDefinitionDetailsId provides the reference to the definition of an alert, including any argument definitions." name="alertDefinitionDetailsId">				
					<mal:type area="MAL" list="false" name="Long"/>
				</mal:field>
				<mal:field canBeNull="false" comment="The AlertEventDetailsId provides the reference to the structure holding the details of the instance of an alert." name="alertEventDetailsId">
					<mal:type area="MAL" list="false" name="Long"/>
				</mal:field>
			</mal:composite>
			<mal:composite comment="The AlertsHistory structure holds a list of AlertReport objects." name="AlertsHistory" shortFormPart="209">
				<mal:extends>
					<mal:type area="MAL" list="false" name="Composite"/>
				</mal:extends>
				<mal:field canBeNull="false" comment="A time-tagged history of alerts." name="alerts">
					<mal:type area="distribution" list="true" name="AlertReport"/>
				</mal:field>
			</mal:composite>
			<mal:composite comment="The CheckReport structure holds the parameter check report." name="CheckReport" shortFormPart="210">
				<mal:extends>
					<mal:type area="MAL" list="false" name="Composite"/>
				</mal:extends>
				<mal:field canBeNull="false" comment="The checkDefinitionDetailsId provides the reference to the structure holding the definition of the check." name="checkDefinitionDetailsId">
					<mal:type area="MAL" list="false" name="Long"/>
				</mal:field>
				<mal:field canBeNull="false" comment="The checkSummary provides details about a specific check link and its evaluated result." name="checkSummary">
					<mal:type area="MC" list="false" name="CheckSummary" service="Check"/>
				</mal:field>
				<mal:field canBeNull="true" comment="The constantCheckDefinitionId provides the reference to the consistency check." name="constantCheckDefinitionId">
					<mal:type area="MAL" list="false" name="Long"/>
				</mal:field>
				<mal:field canBeNull="true" comment="The referenceCheckDefinitionId provides the reference to the reference check." name="referenceCheckDefinitionId">
					<mal:type area="MAL" list="false" name="Long"/>
				</mal:field>
				<mal:field canBeNull="true" comment="The deltaCheckDefinitionId provides the reference to the delta transition check." name="deltaCheckDefinitionId">
					<mal:type area="MAL" list="false" name="Long"/>
				</mal:field>
				<mal:field canBeNull="true" comment="The limitCheckDefinitionId provides the reference to the low and high limit check." name="limitCheckDefinitionId">
					<mal:type area="MAL" list="false" name="Long"/>
				</mal:field>
				<mal:field canBeNull="true" comment="The compoundCheckDefinitionId provides the reference to the compound check." name="compountCheckDefinitionId">
					<mal:type area="MAL" list="false" name="Long"/>
				</mal:field>
				<mal:field canBeNull="false" comment="The timestamp in the UTC time zone of the check report." name="timestamp">
					<mal:type area="MAL" list="false" name="FineTime"/>
				</mal:field>
			</mal:composite>			
			<mal:composite comment="The ChecksHistory structure holds a list of CheckReport objects." name="ChecksHistory" shortFormPart="211">
				<mal:extends>
					<mal:type area="MAL" list="false" name="Composite"/>
				</mal:extends>
				<mal:field canBeNull="false" comment="A time-tagged history of check reports." name="checks">
					<mal:type area="distribution" list="true" name="CheckReport"/>
				</mal:field>
			</mal:composite>
			<mal:composite comment="The MultipleParameterTimeline is used to store a group of ParameterTimeline objects." name="MultipleParameterTimeline" shortFormPart="212">
				<mal:extends>
					<mal:type area="MAL" list="false" name="Composite"/>
				</mal:extends>
				<mal:field canBeNull="false" comment="A list of multiple parameter timelines." name="parameterTimelineList">
					<mal:type area="distribution" list="true" name="ParameterTimeline"/>
				</mal:field>
			</mal:composite>			
		</mal:dataTypes>
		<mal:errors>
			<mal:error comment="The product type does not exist." name="INVALID_PRODUCT_TYPE" number="1"/>			
			<mal:error comment="The source does not exist or is not valid for the selected product type." name="INVALID_PRODUCT_SOURCE" number="2"/>
			<mal:error comment="The product format does not exist or is not supported for the combination of the selected product type and the source." name="INVALID_PRODUCT_FORMAT" number="3"/>			
			<mal:error comment="The product detail does not exist." name="INVALID_PRODUCT_DETAIL" number="4"/>
			<mal:error comment="The product specifciation does not exist or is not correct." name="INVALID_PRODUCT_SPECIFICATION" number="5"/>
			<mal:error comment="One or more filter attributes are invalid. The attribute may not have been defined for the product, the selected comparison operation is not allowed or the attribute value does not match the product type or the format." name="INVALID_PRODUCT_ATTRIBUTE" number="6"/>			
			<mal:error comment="The date or the date format in the TimeRange structure is invalid." name="INVALID_TIME_RANGE" number="7"/>	
			<mal:error comment="The schedule structure contains invalid date, the invalid date format or the invalid expiry date." name="INVALID_SCHEDULE" number="8"/>			
			<mal:error comment="The object instance identifier of the BatchProductRequestDetails does not exist." name="INVALID_REQUEST_ID" number="9"/>
			<mal:error comment="The object instance identifier of the StreamProductRequestDetails does not exist." name="INVALID_STREAM_ID" number="10"/>
			<mal:error comment="The compression format for the selected product is invalid or not supported by the implementation." name="COMPRESSION_FORMAT_NOT_SUPPORTED" number="11"/>					
			<mal:error comment="The encryption format for the selected product is invalid or not supported by the implementation." name="ENCRYPTION_ALGORITHM_NOT_SUPPORTED" number="12"/>			
			<mal:error comment="The request execution scheduling is not supported by the implementation." name="SCHEDULING_NOT_SUPPORTED" number="13"/>		
			<mal:error comment="The sorting attribute for the selected product is invalid or not supported by the implementation." name="SORTING_NOT_SUPPORTED" number="14"/>			
			<mal:error comment="The chunk size is invalid or splitting a product into multiple update messages is not supported by the implementation." name="INVALID_CHUNK_SIZE" number="15"/>
			<mal:error comment="The product is not supported in the batch mode for the selected combination of a product type, a format and a source." name="PRODUCT_NOT_SUPPORTED_IN_BATCH" number="16"/>
			<mal:error comment="The product is not supported in the stream mode." name="PRODUCT_NOT_SUPPORTED_IN_STREAM" number="17"/>			
			<mal:error comment="The transfer protocol specified in the request is not supported by the provider." name="TRANSFER_PROTOCOL_NOT_SUPPORTED" number="18"/>
			<mal:error comment="The attributes of the transfer protocol specified in the request are invalid." name="INVALID_TRANSFER_PROTOCOL_ATTRIBUTES" number="19"/>
			<mal:error comment="The file name of the response is invalid. It may be caused by an invalid character, an invalid path or, when using templates, an invalid special identifier." name="INVALID_FILE_NAME" number="20"/>
		
		</mal:errors>
	</mal:area>
</mal:specification>